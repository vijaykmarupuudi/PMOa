{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useAuth}from'../../context/AuthContext';import{PlusIcon,PencilIcon,TrashIcon,CurrencyDollarIcon,ChartBarIcon,CalendarIcon,BuildingOfficeIcon}from'@heroicons/react/24/outline';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BudgetPlanning=_ref=>{let{projectId}=_ref;const{user}=useAuth();const[budgetItems,setBudgetItems]=useState([]);const[loading,setLoading]=useState(true);const[showAddForm,setShowAddForm]=useState(false);const[editingItem,setEditingItem]=useState(null);const[formData,setFormData]=useState({category:'labor',item_name:'',description:'',estimated_cost:0,actual_cost:0,vendor:'',purchase_date:'',notes:''});const categoryOptions=[{value:'labor',label:'Labor',icon:'👥',color:'bg-blue-100 text-blue-800'},{value:'equipment',label:'Equipment',icon:'🔧',color:'bg-green-100 text-green-800'},{value:'materials',label:'Materials',icon:'📦',color:'bg-yellow-100 text-yellow-800'},{value:'travel',label:'Travel',icon:'✈️',color:'bg-purple-100 text-purple-800'},{value:'training',label:'Training',icon:'📚',color:'bg-indigo-100 text-indigo-800'},{value:'software',label:'Software',icon:'💻',color:'bg-cyan-100 text-cyan-800'},{value:'contingency',label:'Contingency',icon:'🛡️',color:'bg-orange-100 text-orange-800'},{value:'other',label:'Other',icon:'📋',color:'bg-gray-100 text-gray-800'}];useEffect(()=>{if(projectId){fetchBudgetItems();}},[projectId]);const fetchBudgetItems=async()=>{try{const response=await fetch(\"/api/projects/\".concat(projectId,\"/budget\"),{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});if(response.ok){const items=await response.json();setBudgetItems(items);}else{toast.error('Failed to fetch budget items');}}catch(error){console.error('Error fetching budget items:',error);toast.error('Error loading budget items');}finally{setLoading(false);}};const handleSubmit=async e=>{e.preventDefault();try{const url=editingItem?\"/api/budget/\".concat(editingItem.id):\"/api/projects/\".concat(projectId,\"/budget\");const method=editingItem?'PUT':'POST';const response=await fetch(url,{method,headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem('token'))},body:JSON.stringify(_objectSpread(_objectSpread({},formData),{},{project_id:projectId,estimated_cost:parseFloat(formData.estimated_cost)||0,actual_cost:parseFloat(formData.actual_cost)||0}))});if(response.ok){toast.success(editingItem?'Budget item updated successfully':'Budget item created successfully');fetchBudgetItems();resetForm();}else{const error=await response.json();toast.error(error.detail||'Failed to save budget item');}}catch(error){console.error('Error saving budget item:',error);toast.error('Error saving budget item');}};const handleDelete=async itemId=>{if(!window.confirm('Are you sure you want to delete this budget item?'))return;try{const response=await fetch(\"/api/budget/\".concat(itemId),{method:'DELETE',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});if(response.ok){toast.success('Budget item deleted successfully');fetchBudgetItems();}else{toast.error('Failed to delete budget item');}}catch(error){console.error('Error deleting budget item:',error);toast.error('Error deleting budget item');}};const resetForm=()=>{setFormData({category:'labor',item_name:'',description:'',estimated_cost:0,actual_cost:0,vendor:'',purchase_date:'',notes:''});setShowAddForm(false);setEditingItem(null);};const handleEdit=item=>{setEditingItem(item);setFormData({category:item.category,item_name:item.item_name,description:item.description||'',estimated_cost:item.estimated_cost||0,actual_cost:item.actual_cost||0,vendor:item.vendor||'',purchase_date:item.purchase_date?item.purchase_date.split('T')[0]:'',notes:item.notes||''});setShowAddForm(true);};const getCategoryConfig=category=>{return categoryOptions.find(c=>c.value===category)||categoryOptions[categoryOptions.length-1];};const calculateTotals=()=>{const totalEstimated=budgetItems.reduce((sum,item)=>sum+(item.estimated_cost||0),0);const totalActual=budgetItems.reduce((sum,item)=>sum+(item.actual_cost||0),0);const variance=totalEstimated-totalActual;const variancePercentage=totalEstimated>0?variance/totalEstimated*100:0;return{totalEstimated,totalActual,variance,variancePercentage};};const getCategoryTotals=()=>{const categoryTotals={};budgetItems.forEach(item=>{if(!categoryTotals[item.category]){categoryTotals[item.category]={estimated:0,actual:0,count:0};}categoryTotals[item.category].estimated+=item.estimated_cost||0;categoryTotals[item.category].actual+=item.actual_cost||0;categoryTotals[item.category].count+=1;});return categoryTotals;};const formatCurrency=amount=>{return new Intl.NumberFormat('en-US',{style:'currency',currency:'USD'}).format(amount);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"})});}const totals=calculateTotals();const categoryTotals=getCategoryTotals();return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Budget Planning\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:\"Plan and track project budget across different categories\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAddForm(true),className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-4 w-4 mr-2\"}),\"Add Budget Item\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white overflow-hidden shadow rounded-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(CurrencyDollarIcon,{className:\"h-6 w-6 text-green-400\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5 w-0 flex-1\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500 truncate\",children:\"Total Estimated\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"text-lg font-medium text-gray-900\",children:formatCurrency(totals.totalEstimated)})]})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white overflow-hidden shadow rounded-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(ChartBarIcon,{className:\"h-6 w-6 text-blue-400\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5 w-0 flex-1\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500 truncate\",children:\"Total Actual\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"text-lg font-medium text-gray-900\",children:formatCurrency(totals.totalActual)})]})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white overflow-hidden shadow rounded-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(CurrencyDollarIcon,{className:\"h-6 w-6 \".concat(totals.variance>=0?'text-green-400':'text-red-400')})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5 w-0 flex-1\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500 truncate\",children:\"Variance\"}),/*#__PURE__*/_jsxs(\"dd\",{className:\"text-lg font-medium \".concat(totals.variance>=0?'text-green-600':'text-red-600'),children:[formatCurrency(Math.abs(totals.variance)),totals.variance<0&&' over']})]})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white overflow-hidden shadow rounded-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(BuildingOfficeIcon,{className:\"h-6 w-6 text-purple-400\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5 w-0 flex-1\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500 truncate\",children:\"Budget Items\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"text-lg font-medium text-gray-900\",children:budgetItems.length})]})})]})})})]}),Object.keys(categoryTotals).length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Budget by Category\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",children:Object.entries(categoryTotals).map(_ref2=>{let[category,data]=_ref2;const config=getCategoryConfig(category);return/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg mr-2\",children:config.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-900\",children:config.label})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"Estimated:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:formatCurrency(data.estimated)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"Actual:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:formatCurrency(data.actual)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"Items:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:data.count})]})]})]},category);})})]}),showAddForm&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:editingItem?'Edit Budget Item':'Add New Budget Item'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Item Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:formData.item_name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{item_name:e.target.value})),className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Category\"}),/*#__PURE__*/_jsx(\"select\",{value:formData.category,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{category:e.target.value})),className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\",children:categoryOptions.map(option=>/*#__PURE__*/_jsxs(\"option\",{value:option.value,children:[option.icon,\" \",option.label]},option.value))})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.description,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{description:e.target.value})),rows:3,className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Estimated Cost *\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 relative rounded-md shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500 sm:text-sm\",children:\"$\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",required:true,min:\"0\",step:\"0.01\",value:formData.estimated_cost,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{estimated_cost:e.target.value})),className:\"pl-7 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Actual Cost\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 relative rounded-md shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500 sm:text-sm\",children:\"$\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",step:\"0.01\",value:formData.actual_cost,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{actual_cost:e.target.value})),className:\"pl-7 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Vendor\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.vendor,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{vendor:e.target.value})),className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Purchase Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:formData.purchase_date,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{purchase_date:e.target.value})),className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.notes,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{notes:e.target.value})),rows:2,className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:resetForm,className:\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:editingItem?'Update Item':'Create Item'})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow rounded-lg\",children:budgetItems.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400 mb-4\",children:/*#__PURE__*/_jsx(CurrencyDollarIcon,{className:\"mx-auto h-12 w-12\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No budget items yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-4\",children:\"Start by adding your first budget item.\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAddForm(true),className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-4 w-4 mr-2\"}),\"Add First Item\"]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-hidden\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Item\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Estimated\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actual\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Variance\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Vendor\"}),/*#__PURE__*/_jsx(\"th\",{className:\"relative px-6 py-3\",children:/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Actions\"})})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:budgetItems.map(item=>{const config=getCategoryConfig(item.category);const variance=(item.estimated_cost||0)-(item.actual_cost||0);return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:item.item_name}),item.description&&/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500 truncate max-w-xs\",children:item.description})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \".concat(config.color),children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-1\",children:config.icon}),config.label]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:formatCurrency(item.estimated_cost||0)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:formatCurrency(item.actual_cost||0)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium \".concat(variance>=0?'text-green-600':'text-red-600'),children:[formatCurrency(Math.abs(variance)),variance<0&&' over']})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:item.vendor||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(item),className:\"text-blue-600 hover:text-blue-900\",children:/*#__PURE__*/_jsx(PencilIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(item.id),className:\"text-red-600 hover:text-red-900\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4\"})})]})})]},item.id);})})]})})})]});};export default BudgetPlanning;","map":{"version":3,"names":["React","useState","useEffect","useAuth","PlusIcon","PencilIcon","TrashIcon","CurrencyDollarIcon","ChartBarIcon","CalendarIcon","BuildingOfficeIcon","toast","jsx","_jsx","jsxs","_jsxs","BudgetPlanning","_ref","projectId","user","budgetItems","setBudgetItems","loading","setLoading","showAddForm","setShowAddForm","editingItem","setEditingItem","formData","setFormData","category","item_name","description","estimated_cost","actual_cost","vendor","purchase_date","notes","categoryOptions","value","label","icon","color","fetchBudgetItems","response","fetch","concat","headers","localStorage","getItem","ok","items","json","error","console","handleSubmit","e","preventDefault","url","id","method","body","JSON","stringify","_objectSpread","project_id","parseFloat","success","resetForm","detail","handleDelete","itemId","window","confirm","handleEdit","item","split","getCategoryConfig","find","c","length","calculateTotals","totalEstimated","reduce","sum","totalActual","variance","variancePercentage","getCategoryTotals","categoryTotals","forEach","estimated","actual","count","formatCurrency","amount","Intl","NumberFormat","style","currency","format","className","children","totals","onClick","Math","abs","Object","keys","entries","map","_ref2","data","config","onSubmit","type","required","onChange","target","option","rows","min","step"],"sources":["/app/frontend/src/components/planning/BudgetPlanning.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../context/AuthContext';\nimport { \n  PlusIcon, \n  PencilIcon, \n  TrashIcon,\n  CurrencyDollarIcon,\n  ChartBarIcon,\n  CalendarIcon,\n  BuildingOfficeIcon\n} from '@heroicons/react/24/outline';\nimport toast from 'react-hot-toast';\n\nconst BudgetPlanning = ({ projectId }) => {\n  const { user } = useAuth();\n  const [budgetItems, setBudgetItems] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [editingItem, setEditingItem] = useState(null);\n\n  const [formData, setFormData] = useState({\n    category: 'labor',\n    item_name: '',\n    description: '',\n    estimated_cost: 0,\n    actual_cost: 0,\n    vendor: '',\n    purchase_date: '',\n    notes: ''\n  });\n\n  const categoryOptions = [\n    { value: 'labor', label: 'Labor', icon: '👥', color: 'bg-blue-100 text-blue-800' },\n    { value: 'equipment', label: 'Equipment', icon: '🔧', color: 'bg-green-100 text-green-800' },\n    { value: 'materials', label: 'Materials', icon: '📦', color: 'bg-yellow-100 text-yellow-800' },\n    { value: 'travel', label: 'Travel', icon: '✈️', color: 'bg-purple-100 text-purple-800' },\n    { value: 'training', label: 'Training', icon: '📚', color: 'bg-indigo-100 text-indigo-800' },\n    { value: 'software', label: 'Software', icon: '💻', color: 'bg-cyan-100 text-cyan-800' },\n    { value: 'contingency', label: 'Contingency', icon: '🛡️', color: 'bg-orange-100 text-orange-800' },\n    { value: 'other', label: 'Other', icon: '📋', color: 'bg-gray-100 text-gray-800' }\n  ];\n\n  useEffect(() => {\n    if (projectId) {\n      fetchBudgetItems();\n    }\n  }, [projectId]);\n\n  const fetchBudgetItems = async () => {\n    try {\n      const response = await fetch(`/api/projects/${projectId}/budget`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n\n      if (response.ok) {\n        const items = await response.json();\n        setBudgetItems(items);\n      } else {\n        toast.error('Failed to fetch budget items');\n      }\n    } catch (error) {\n      console.error('Error fetching budget items:', error);\n      toast.error('Error loading budget items');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    try {\n      const url = editingItem \n        ? `/api/budget/${editingItem.id}`\n        : `/api/projects/${projectId}/budget`;\n      \n      const method = editingItem ? 'PUT' : 'POST';\n      \n      const response = await fetch(url, {\n        method,\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify({\n          ...formData,\n          project_id: projectId,\n          estimated_cost: parseFloat(formData.estimated_cost) || 0,\n          actual_cost: parseFloat(formData.actual_cost) || 0\n        })\n      });\n\n      if (response.ok) {\n        toast.success(editingItem ? 'Budget item updated successfully' : 'Budget item created successfully');\n        fetchBudgetItems();\n        resetForm();\n      } else {\n        const error = await response.json();\n        toast.error(error.detail || 'Failed to save budget item');\n      }\n    } catch (error) {\n      console.error('Error saving budget item:', error);\n      toast.error('Error saving budget item');\n    }\n  };\n\n  const handleDelete = async (itemId) => {\n    if (!window.confirm('Are you sure you want to delete this budget item?')) return;\n\n    try {\n      const response = await fetch(`/api/budget/${itemId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n\n      if (response.ok) {\n        toast.success('Budget item deleted successfully');\n        fetchBudgetItems();\n      } else {\n        toast.error('Failed to delete budget item');\n      }\n    } catch (error) {\n      console.error('Error deleting budget item:', error);\n      toast.error('Error deleting budget item');\n    }\n  };\n\n  const resetForm = () => {\n    setFormData({\n      category: 'labor',\n      item_name: '',\n      description: '',\n      estimated_cost: 0,\n      actual_cost: 0,\n      vendor: '',\n      purchase_date: '',\n      notes: ''\n    });\n    setShowAddForm(false);\n    setEditingItem(null);\n  };\n\n  const handleEdit = (item) => {\n    setEditingItem(item);\n    setFormData({\n      category: item.category,\n      item_name: item.item_name,\n      description: item.description || '',\n      estimated_cost: item.estimated_cost || 0,\n      actual_cost: item.actual_cost || 0,\n      vendor: item.vendor || '',\n      purchase_date: item.purchase_date ? item.purchase_date.split('T')[0] : '',\n      notes: item.notes || ''\n    });\n    setShowAddForm(true);\n  };\n\n  const getCategoryConfig = (category) => {\n    return categoryOptions.find(c => c.value === category) || categoryOptions[categoryOptions.length - 1];\n  };\n\n  const calculateTotals = () => {\n    const totalEstimated = budgetItems.reduce((sum, item) => sum + (item.estimated_cost || 0), 0);\n    const totalActual = budgetItems.reduce((sum, item) => sum + (item.actual_cost || 0), 0);\n    const variance = totalEstimated - totalActual;\n    const variancePercentage = totalEstimated > 0 ? ((variance / totalEstimated) * 100) : 0;\n\n    return { totalEstimated, totalActual, variance, variancePercentage };\n  };\n\n  const getCategoryTotals = () => {\n    const categoryTotals = {};\n    budgetItems.forEach(item => {\n      if (!categoryTotals[item.category]) {\n        categoryTotals[item.category] = { estimated: 0, actual: 0, count: 0 };\n      }\n      categoryTotals[item.category].estimated += item.estimated_cost || 0;\n      categoryTotals[item.category].actual += item.actual_cost || 0;\n      categoryTotals[item.category].count += 1;\n    });\n    return categoryTotals;\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD'\n    }).format(amount);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  const totals = calculateTotals();\n  const categoryTotals = getCategoryTotals();\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-gray-900\">Budget Planning</h2>\n          <p className=\"mt-1 text-sm text-gray-500\">\n            Plan and track project budget across different categories\n          </p>\n        </div>\n        <button\n          onClick={() => setShowAddForm(true)}\n          className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n        >\n          <PlusIcon className=\"h-4 w-4 mr-2\" />\n          Add Budget Item\n        </button>\n      </div>\n\n      {/* Budget Summary Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <CurrencyDollarIcon className=\"h-6 w-6 text-green-400\" />\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">Total Estimated</dt>\n                  <dd className=\"text-lg font-medium text-gray-900\">{formatCurrency(totals.totalEstimated)}</dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <ChartBarIcon className=\"h-6 w-6 text-blue-400\" />\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">Total Actual</dt>\n                  <dd className=\"text-lg font-medium text-gray-900\">{formatCurrency(totals.totalActual)}</dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <CurrencyDollarIcon className={`h-6 w-6 ${totals.variance >= 0 ? 'text-green-400' : 'text-red-400'}`} />\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">Variance</dt>\n                  <dd className={`text-lg font-medium ${totals.variance >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n                    {formatCurrency(Math.abs(totals.variance))}\n                    {totals.variance < 0 && ' over'}\n                  </dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <BuildingOfficeIcon className=\"h-6 w-6 text-purple-400\" />\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">Budget Items</dt>\n                  <dd className=\"text-lg font-medium text-gray-900\">{budgetItems.length}</dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Category Breakdown */}\n      {Object.keys(categoryTotals).length > 0 && (\n        <div className=\"bg-white shadow rounded-lg p-6\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Budget by Category</h3>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n            {Object.entries(categoryTotals).map(([category, data]) => {\n              const config = getCategoryConfig(category);\n              return (\n                <div key={category} className=\"border rounded-lg p-4\">\n                  <div className=\"flex items-center mb-2\">\n                    <span className=\"text-lg mr-2\">{config.icon}</span>\n                    <span className=\"text-sm font-medium text-gray-900\">{config.label}</span>\n                  </div>\n                  <div className=\"space-y-1\">\n                    <div className=\"flex justify-between text-xs\">\n                      <span className=\"text-gray-500\">Estimated:</span>\n                      <span className=\"font-medium\">{formatCurrency(data.estimated)}</span>\n                    </div>\n                    <div className=\"flex justify-between text-xs\">\n                      <span className=\"text-gray-500\">Actual:</span>\n                      <span className=\"font-medium\">{formatCurrency(data.actual)}</span>\n                    </div>\n                    <div className=\"flex justify-between text-xs\">\n                      <span className=\"text-gray-500\">Items:</span>\n                      <span className=\"font-medium\">{data.count}</span>\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      )}\n\n      {/* Add/Edit Form */}\n      {showAddForm && (\n        <div className=\"bg-white shadow rounded-lg p-6\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n            {editingItem ? 'Edit Budget Item' : 'Add New Budget Item'}\n          </h3>\n          \n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Item Name *</label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.item_name}\n                  onChange={(e) => setFormData({...formData, item_name: e.target.value})}\n                  className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Category</label>\n                <select\n                  value={formData.category}\n                  onChange={(e) => setFormData({...formData, category: e.target.value})}\n                  className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                >\n                  {categoryOptions.map(option => (\n                    <option key={option.value} value={option.value}>\n                      {option.icon} {option.label}\n                    </option>\n                  ))}\n                </select>\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700\">Description</label>\n              <textarea\n                value={formData.description}\n                onChange={(e) => setFormData({...formData, description: e.target.value})}\n                rows={3}\n                className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n              />\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Estimated Cost *</label>\n                <div className=\"mt-1 relative rounded-md shadow-sm\">\n                  <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                    <span className=\"text-gray-500 sm:text-sm\">$</span>\n                  </div>\n                  <input\n                    type=\"number\"\n                    required\n                    min=\"0\"\n                    step=\"0.01\"\n                    value={formData.estimated_cost}\n                    onChange={(e) => setFormData({...formData, estimated_cost: e.target.value})}\n                    className=\"pl-7 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                  />\n                </div>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Actual Cost</label>\n                <div className=\"mt-1 relative rounded-md shadow-sm\">\n                  <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                    <span className=\"text-gray-500 sm:text-sm\">$</span>\n                  </div>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    step=\"0.01\"\n                    value={formData.actual_cost}\n                    onChange={(e) => setFormData({...formData, actual_cost: e.target.value})}\n                    className=\"pl-7 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Vendor</label>\n                <input\n                  type=\"text\"\n                  value={formData.vendor}\n                  onChange={(e) => setFormData({...formData, vendor: e.target.value})}\n                  className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Purchase Date</label>\n                <input\n                  type=\"date\"\n                  value={formData.purchase_date}\n                  onChange={(e) => setFormData({...formData, purchase_date: e.target.value})}\n                  className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700\">Notes</label>\n              <textarea\n                value={formData.notes}\n                onChange={(e) => setFormData({...formData, notes: e.target.value})}\n                rows={2}\n                className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n              />\n            </div>\n\n            <div className=\"flex justify-end space-x-3\">\n              <button\n                type=\"button\"\n                onClick={resetForm}\n                className=\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                className=\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                {editingItem ? 'Update Item' : 'Create Item'}\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n\n      {/* Budget Items List */}\n      <div className=\"bg-white shadow rounded-lg\">\n        {budgetItems.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <div className=\"text-gray-400 mb-4\">\n              <CurrencyDollarIcon className=\"mx-auto h-12 w-12\" />\n            </div>\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No budget items yet</h3>\n            <p className=\"text-gray-500 mb-4\">Start by adding your first budget item.</p>\n            <button\n              onClick={() => setShowAddForm(true)}\n              className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700\"\n            >\n              <PlusIcon className=\"h-4 w-4 mr-2\" />\n              Add First Item\n            </button>\n          </div>\n        ) : (\n          <div className=\"overflow-hidden\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Item\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Category\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Estimated\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Actual\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Variance\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Vendor\n                  </th>\n                  <th className=\"relative px-6 py-3\">\n                    <span className=\"sr-only\">Actions</span>\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {budgetItems.map((item) => {\n                  const config = getCategoryConfig(item.category);\n                  const variance = (item.estimated_cost || 0) - (item.actual_cost || 0);\n                  return (\n                    <tr key={item.id} className=\"hover:bg-gray-50\">\n                      <td className=\"px-6 py-4\">\n                        <div>\n                          <div className=\"text-sm font-medium text-gray-900\">{item.item_name}</div>\n                          {item.description && (\n                            <div className=\"text-sm text-gray-500 truncate max-w-xs\">{item.description}</div>\n                          )}\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}>\n                          <span className=\"mr-1\">{config.icon}</span>\n                          {config.label}\n                        </span>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                        {formatCurrency(item.estimated_cost || 0)}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                        {formatCurrency(item.actual_cost || 0)}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <span className={`text-sm font-medium ${variance >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n                          {formatCurrency(Math.abs(variance))}\n                          {variance < 0 && ' over'}\n                        </span>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                        {item.vendor || '-'}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                        <div className=\"flex items-center space-x-2\">\n                          <button\n                            onClick={() => handleEdit(item)}\n                            className=\"text-blue-600 hover:text-blue-900\"\n                          >\n                            <PencilIcon className=\"h-4 w-4\" />\n                          </button>\n                          <button\n                            onClick={() => handleDelete(item.id)}\n                            className=\"text-red-600 hover:text-red-900\"\n                          >\n                            <TrashIcon className=\"h-4 w-4\" />\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default BudgetPlanning;"],"mappings":"kGAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,OAAO,KAAQ,2BAA2B,CACnD,OACEC,QAAQ,CACRC,UAAU,CACVC,SAAS,CACTC,kBAAkB,CAClBC,YAAY,CACZC,YAAY,CACZC,kBAAkB,KACb,6BAA6B,CACpC,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpC,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAmB,IAAlB,CAAEC,SAAU,CAAC,CAAAD,IAAA,CACnC,KAAM,CAAEE,IAAK,CAAC,CAAGhB,OAAO,CAAC,CAAC,CAC1B,KAAM,CAACiB,WAAW,CAAEC,cAAc,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACqB,OAAO,CAAEC,UAAU,CAAC,CAAGtB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACuB,WAAW,CAAEC,cAAc,CAAC,CAAGxB,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAACyB,WAAW,CAAEC,cAAc,CAAC,CAAG1B,QAAQ,CAAC,IAAI,CAAC,CAEpD,KAAM,CAAC2B,QAAQ,CAAEC,WAAW,CAAC,CAAG5B,QAAQ,CAAC,CACvC6B,QAAQ,CAAE,OAAO,CACjBC,SAAS,CAAE,EAAE,CACbC,WAAW,CAAE,EAAE,CACfC,cAAc,CAAE,CAAC,CACjBC,WAAW,CAAE,CAAC,CACdC,MAAM,CAAE,EAAE,CACVC,aAAa,CAAE,EAAE,CACjBC,KAAK,CAAE,EACT,CAAC,CAAC,CAEF,KAAM,CAAAC,eAAe,CAAG,CACtB,CAAEC,KAAK,CAAE,OAAO,CAAEC,KAAK,CAAE,OAAO,CAAEC,IAAI,CAAE,IAAI,CAAEC,KAAK,CAAE,2BAA4B,CAAC,CAClF,CAAEH,KAAK,CAAE,WAAW,CAAEC,KAAK,CAAE,WAAW,CAAEC,IAAI,CAAE,IAAI,CAAEC,KAAK,CAAE,6BAA8B,CAAC,CAC5F,CAAEH,KAAK,CAAE,WAAW,CAAEC,KAAK,CAAE,WAAW,CAAEC,IAAI,CAAE,IAAI,CAAEC,KAAK,CAAE,+BAAgC,CAAC,CAC9F,CAAEH,KAAK,CAAE,QAAQ,CAAEC,KAAK,CAAE,QAAQ,CAAEC,IAAI,CAAE,IAAI,CAAEC,KAAK,CAAE,+BAAgC,CAAC,CACxF,CAAEH,KAAK,CAAE,UAAU,CAAEC,KAAK,CAAE,UAAU,CAAEC,IAAI,CAAE,IAAI,CAAEC,KAAK,CAAE,+BAAgC,CAAC,CAC5F,CAAEH,KAAK,CAAE,UAAU,CAAEC,KAAK,CAAE,UAAU,CAAEC,IAAI,CAAE,IAAI,CAAEC,KAAK,CAAE,2BAA4B,CAAC,CACxF,CAAEH,KAAK,CAAE,aAAa,CAAEC,KAAK,CAAE,aAAa,CAAEC,IAAI,CAAE,KAAK,CAAEC,KAAK,CAAE,+BAAgC,CAAC,CACnG,CAAEH,KAAK,CAAE,OAAO,CAAEC,KAAK,CAAE,OAAO,CAAEC,IAAI,CAAE,IAAI,CAAEC,KAAK,CAAE,2BAA4B,CAAC,CACnF,CAEDxC,SAAS,CAAC,IAAM,CACd,GAAIgB,SAAS,CAAE,CACbyB,gBAAgB,CAAC,CAAC,CACpB,CACF,CAAC,CAAE,CAACzB,SAAS,CAAC,CAAC,CAEf,KAAM,CAAAyB,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,kBAAAC,MAAA,CAAkB5B,SAAS,YAAW,CAChE6B,OAAO,CAAE,CACP,eAAe,WAAAD,MAAA,CAAYE,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC1D,CACF,CAAC,CAAC,CAEF,GAAIL,QAAQ,CAACM,EAAE,CAAE,CACf,KAAM,CAAAC,KAAK,CAAG,KAAM,CAAAP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CACnC/B,cAAc,CAAC8B,KAAK,CAAC,CACvB,CAAC,IAAM,CACLxC,KAAK,CAAC0C,KAAK,CAAC,8BAA8B,CAAC,CAC7C,CACF,CAAE,MAAOA,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACpD1C,KAAK,CAAC0C,KAAK,CAAC,4BAA4B,CAAC,CAC3C,CAAC,OAAS,CACR9B,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAgC,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB,GAAI,CACF,KAAM,CAAAC,GAAG,CAAGhC,WAAW,gBAAAoB,MAAA,CACJpB,WAAW,CAACiC,EAAE,mBAAAb,MAAA,CACZ5B,SAAS,WAAS,CAEvC,KAAM,CAAA0C,MAAM,CAAGlC,WAAW,CAAG,KAAK,CAAG,MAAM,CAE3C,KAAM,CAAAkB,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACa,GAAG,CAAE,CAChCE,MAAM,CACNb,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,eAAe,WAAAD,MAAA,CAAYE,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC1D,CAAC,CACDY,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAAC,aAAA,CAAAA,aAAA,IACfpC,QAAQ,MACXqC,UAAU,CAAE/C,SAAS,CACrBe,cAAc,CAAEiC,UAAU,CAACtC,QAAQ,CAACK,cAAc,CAAC,EAAI,CAAC,CACxDC,WAAW,CAAEgC,UAAU,CAACtC,QAAQ,CAACM,WAAW,CAAC,EAAI,CAAC,EACnD,CACH,CAAC,CAAC,CAEF,GAAIU,QAAQ,CAACM,EAAE,CAAE,CACfvC,KAAK,CAACwD,OAAO,CAACzC,WAAW,CAAG,kCAAkC,CAAG,kCAAkC,CAAC,CACpGiB,gBAAgB,CAAC,CAAC,CAClByB,SAAS,CAAC,CAAC,CACb,CAAC,IAAM,CACL,KAAM,CAAAf,KAAK,CAAG,KAAM,CAAAT,QAAQ,CAACQ,IAAI,CAAC,CAAC,CACnCzC,KAAK,CAAC0C,KAAK,CAACA,KAAK,CAACgB,MAAM,EAAI,4BAA4B,CAAC,CAC3D,CACF,CAAE,MAAOhB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACjD1C,KAAK,CAAC0C,KAAK,CAAC,0BAA0B,CAAC,CACzC,CACF,CAAC,CAED,KAAM,CAAAiB,YAAY,CAAG,KAAO,CAAAC,MAAM,EAAK,CACrC,GAAI,CAACC,MAAM,CAACC,OAAO,CAAC,mDAAmD,CAAC,CAAE,OAE1E,GAAI,CACF,KAAM,CAAA7B,QAAQ,CAAG,KAAM,CAAAC,KAAK,gBAAAC,MAAA,CAAgByB,MAAM,EAAI,CACpDX,MAAM,CAAE,QAAQ,CAChBb,OAAO,CAAE,CACP,eAAe,WAAAD,MAAA,CAAYE,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC1D,CACF,CAAC,CAAC,CAEF,GAAIL,QAAQ,CAACM,EAAE,CAAE,CACfvC,KAAK,CAACwD,OAAO,CAAC,kCAAkC,CAAC,CACjDxB,gBAAgB,CAAC,CAAC,CACpB,CAAC,IAAM,CACLhC,KAAK,CAAC0C,KAAK,CAAC,8BAA8B,CAAC,CAC7C,CACF,CAAE,MAAOA,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACnD1C,KAAK,CAAC0C,KAAK,CAAC,4BAA4B,CAAC,CAC3C,CACF,CAAC,CAED,KAAM,CAAAe,SAAS,CAAGA,CAAA,GAAM,CACtBvC,WAAW,CAAC,CACVC,QAAQ,CAAE,OAAO,CACjBC,SAAS,CAAE,EAAE,CACbC,WAAW,CAAE,EAAE,CACfC,cAAc,CAAE,CAAC,CACjBC,WAAW,CAAE,CAAC,CACdC,MAAM,CAAE,EAAE,CACVC,aAAa,CAAE,EAAE,CACjBC,KAAK,CAAE,EACT,CAAC,CAAC,CACFZ,cAAc,CAAC,KAAK,CAAC,CACrBE,cAAc,CAAC,IAAI,CAAC,CACtB,CAAC,CAED,KAAM,CAAA+C,UAAU,CAAIC,IAAI,EAAK,CAC3BhD,cAAc,CAACgD,IAAI,CAAC,CACpB9C,WAAW,CAAC,CACVC,QAAQ,CAAE6C,IAAI,CAAC7C,QAAQ,CACvBC,SAAS,CAAE4C,IAAI,CAAC5C,SAAS,CACzBC,WAAW,CAAE2C,IAAI,CAAC3C,WAAW,EAAI,EAAE,CACnCC,cAAc,CAAE0C,IAAI,CAAC1C,cAAc,EAAI,CAAC,CACxCC,WAAW,CAAEyC,IAAI,CAACzC,WAAW,EAAI,CAAC,CAClCC,MAAM,CAAEwC,IAAI,CAACxC,MAAM,EAAI,EAAE,CACzBC,aAAa,CAAEuC,IAAI,CAACvC,aAAa,CAAGuC,IAAI,CAACvC,aAAa,CAACwC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAG,EAAE,CACzEvC,KAAK,CAAEsC,IAAI,CAACtC,KAAK,EAAI,EACvB,CAAC,CAAC,CACFZ,cAAc,CAAC,IAAI,CAAC,CACtB,CAAC,CAED,KAAM,CAAAoD,iBAAiB,CAAI/C,QAAQ,EAAK,CACtC,MAAO,CAAAQ,eAAe,CAACwC,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACxC,KAAK,GAAKT,QAAQ,CAAC,EAAIQ,eAAe,CAACA,eAAe,CAAC0C,MAAM,CAAG,CAAC,CAAC,CACvG,CAAC,CAED,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CAC5B,KAAM,CAAAC,cAAc,CAAG9D,WAAW,CAAC+D,MAAM,CAAC,CAACC,GAAG,CAAET,IAAI,GAAKS,GAAG,EAAIT,IAAI,CAAC1C,cAAc,EAAI,CAAC,CAAC,CAAE,CAAC,CAAC,CAC7F,KAAM,CAAAoD,WAAW,CAAGjE,WAAW,CAAC+D,MAAM,CAAC,CAACC,GAAG,CAAET,IAAI,GAAKS,GAAG,EAAIT,IAAI,CAACzC,WAAW,EAAI,CAAC,CAAC,CAAE,CAAC,CAAC,CACvF,KAAM,CAAAoD,QAAQ,CAAGJ,cAAc,CAAGG,WAAW,CAC7C,KAAM,CAAAE,kBAAkB,CAAGL,cAAc,CAAG,CAAC,CAAKI,QAAQ,CAAGJ,cAAc,CAAI,GAAG,CAAI,CAAC,CAEvF,MAAO,CAAEA,cAAc,CAAEG,WAAW,CAAEC,QAAQ,CAAEC,kBAAmB,CAAC,CACtE,CAAC,CAED,KAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,KAAM,CAAAC,cAAc,CAAG,CAAC,CAAC,CACzBrE,WAAW,CAACsE,OAAO,CAACf,IAAI,EAAI,CAC1B,GAAI,CAACc,cAAc,CAACd,IAAI,CAAC7C,QAAQ,CAAC,CAAE,CAClC2D,cAAc,CAACd,IAAI,CAAC7C,QAAQ,CAAC,CAAG,CAAE6D,SAAS,CAAE,CAAC,CAAEC,MAAM,CAAE,CAAC,CAAEC,KAAK,CAAE,CAAE,CAAC,CACvE,CACAJ,cAAc,CAACd,IAAI,CAAC7C,QAAQ,CAAC,CAAC6D,SAAS,EAAIhB,IAAI,CAAC1C,cAAc,EAAI,CAAC,CACnEwD,cAAc,CAACd,IAAI,CAAC7C,QAAQ,CAAC,CAAC8D,MAAM,EAAIjB,IAAI,CAACzC,WAAW,EAAI,CAAC,CAC7DuD,cAAc,CAACd,IAAI,CAAC7C,QAAQ,CAAC,CAAC+D,KAAK,EAAI,CAAC,CAC1C,CAAC,CAAC,CACF,MAAO,CAAAJ,cAAc,CACvB,CAAC,CAED,KAAM,CAAAK,cAAc,CAAIC,MAAM,EAAK,CACjC,MAAO,IAAI,CAAAC,IAAI,CAACC,YAAY,CAAC,OAAO,CAAE,CACpCC,KAAK,CAAE,UAAU,CACjBC,QAAQ,CAAE,KACZ,CAAC,CAAC,CAACC,MAAM,CAACL,MAAM,CAAC,CACnB,CAAC,CAED,GAAIzE,OAAO,CAAE,CACX,mBACET,IAAA,QAAKwF,SAAS,CAAC,uCAAuC,CAAAC,QAAA,cACpDzF,IAAA,QAAKwF,SAAS,CAAC,8DAA8D,CAAM,CAAC,CACjF,CAAC,CAEV,CAEA,KAAM,CAAAE,MAAM,CAAGtB,eAAe,CAAC,CAAC,CAChC,KAAM,CAAAQ,cAAc,CAAGD,iBAAiB,CAAC,CAAC,CAE1C,mBACEzE,KAAA,QAAKsF,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBvF,KAAA,QAAKsF,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDvF,KAAA,QAAAuF,QAAA,eACEzF,IAAA,OAAIwF,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cACrEzF,IAAA,MAAGwF,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,2DAE1C,CAAG,CAAC,EACD,CAAC,cACNvF,KAAA,WACEyF,OAAO,CAAEA,CAAA,GAAM/E,cAAc,CAAC,IAAI,CAAE,CACpC4E,SAAS,CAAC,wNAAwN,CAAAC,QAAA,eAElOzF,IAAA,CAACT,QAAQ,EAACiG,SAAS,CAAC,cAAc,CAAE,CAAC,kBAEvC,EAAQ,CAAC,EACN,CAAC,cAGNtF,KAAA,QAAKsF,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDzF,IAAA,QAAKwF,SAAS,CAAC,4CAA4C,CAAAC,QAAA,cACzDzF,IAAA,QAAKwF,SAAS,CAAC,KAAK,CAAAC,QAAA,cAClBvF,KAAA,QAAKsF,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCzF,IAAA,QAAKwF,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BzF,IAAA,CAACN,kBAAkB,EAAC8F,SAAS,CAAC,wBAAwB,CAAE,CAAC,CACtD,CAAC,cACNxF,IAAA,QAAKwF,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BvF,KAAA,OAAAuF,QAAA,eACEzF,IAAA,OAAIwF,SAAS,CAAC,4CAA4C,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cAC/EzF,IAAA,OAAIwF,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAER,cAAc,CAACS,MAAM,CAACrB,cAAc,CAAC,CAAK,CAAC,EAC5F,CAAC,CACF,CAAC,EACH,CAAC,CACH,CAAC,CACH,CAAC,cAENrE,IAAA,QAAKwF,SAAS,CAAC,4CAA4C,CAAAC,QAAA,cACzDzF,IAAA,QAAKwF,SAAS,CAAC,KAAK,CAAAC,QAAA,cAClBvF,KAAA,QAAKsF,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCzF,IAAA,QAAKwF,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BzF,IAAA,CAACL,YAAY,EAAC6F,SAAS,CAAC,uBAAuB,CAAE,CAAC,CAC/C,CAAC,cACNxF,IAAA,QAAKwF,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BvF,KAAA,OAAAuF,QAAA,eACEzF,IAAA,OAAIwF,SAAS,CAAC,4CAA4C,CAAAC,QAAA,CAAC,cAAY,CAAI,CAAC,cAC5EzF,IAAA,OAAIwF,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAER,cAAc,CAACS,MAAM,CAAClB,WAAW,CAAC,CAAK,CAAC,EACzF,CAAC,CACF,CAAC,EACH,CAAC,CACH,CAAC,CACH,CAAC,cAENxE,IAAA,QAAKwF,SAAS,CAAC,4CAA4C,CAAAC,QAAA,cACzDzF,IAAA,QAAKwF,SAAS,CAAC,KAAK,CAAAC,QAAA,cAClBvF,KAAA,QAAKsF,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCzF,IAAA,QAAKwF,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BzF,IAAA,CAACN,kBAAkB,EAAC8F,SAAS,YAAAvD,MAAA,CAAayD,MAAM,CAACjB,QAAQ,EAAI,CAAC,CAAG,gBAAgB,CAAG,cAAc,CAAG,CAAE,CAAC,CACrG,CAAC,cACNzE,IAAA,QAAKwF,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BvF,KAAA,OAAAuF,QAAA,eACEzF,IAAA,OAAIwF,SAAS,CAAC,4CAA4C,CAAAC,QAAA,CAAC,UAAQ,CAAI,CAAC,cACxEvF,KAAA,OAAIsF,SAAS,wBAAAvD,MAAA,CAAyByD,MAAM,CAACjB,QAAQ,EAAI,CAAC,CAAG,gBAAgB,CAAG,cAAc,CAAG,CAAAgB,QAAA,EAC9FR,cAAc,CAACW,IAAI,CAACC,GAAG,CAACH,MAAM,CAACjB,QAAQ,CAAC,CAAC,CACzCiB,MAAM,CAACjB,QAAQ,CAAG,CAAC,EAAI,OAAO,EAC7B,CAAC,EACH,CAAC,CACF,CAAC,EACH,CAAC,CACH,CAAC,CACH,CAAC,cAENzE,IAAA,QAAKwF,SAAS,CAAC,4CAA4C,CAAAC,QAAA,cACzDzF,IAAA,QAAKwF,SAAS,CAAC,KAAK,CAAAC,QAAA,cAClBvF,KAAA,QAAKsF,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCzF,IAAA,QAAKwF,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BzF,IAAA,CAACH,kBAAkB,EAAC2F,SAAS,CAAC,yBAAyB,CAAE,CAAC,CACvD,CAAC,cACNxF,IAAA,QAAKwF,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BvF,KAAA,OAAAuF,QAAA,eACEzF,IAAA,OAAIwF,SAAS,CAAC,4CAA4C,CAAAC,QAAA,CAAC,cAAY,CAAI,CAAC,cAC5EzF,IAAA,OAAIwF,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAElF,WAAW,CAAC4D,MAAM,CAAK,CAAC,EACzE,CAAC,CACF,CAAC,EACH,CAAC,CACH,CAAC,CACH,CAAC,EACH,CAAC,CAGL2B,MAAM,CAACC,IAAI,CAACnB,cAAc,CAAC,CAACT,MAAM,CAAG,CAAC,eACrCjE,KAAA,QAAKsF,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7CzF,IAAA,OAAIwF,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,oBAAkB,CAAI,CAAC,cAC9EzF,IAAA,QAAKwF,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAClEK,MAAM,CAACE,OAAO,CAACpB,cAAc,CAAC,CAACqB,GAAG,CAACC,KAAA,EAAsB,IAArB,CAACjF,QAAQ,CAAEkF,IAAI,CAAC,CAAAD,KAAA,CACnD,KAAM,CAAAE,MAAM,CAAGpC,iBAAiB,CAAC/C,QAAQ,CAAC,CAC1C,mBACEf,KAAA,QAAoBsF,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACnDvF,KAAA,QAAKsF,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCzF,IAAA,SAAMwF,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAEW,MAAM,CAACxE,IAAI,CAAO,CAAC,cACnD5B,IAAA,SAAMwF,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAEW,MAAM,CAACzE,KAAK,CAAO,CAAC,EACtE,CAAC,cACNzB,KAAA,QAAKsF,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBvF,KAAA,QAAKsF,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eAC3CzF,IAAA,SAAMwF,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,YAAU,CAAM,CAAC,cACjDzF,IAAA,SAAMwF,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAER,cAAc,CAACkB,IAAI,CAACrB,SAAS,CAAC,CAAO,CAAC,EAClE,CAAC,cACN5E,KAAA,QAAKsF,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eAC3CzF,IAAA,SAAMwF,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,SAAO,CAAM,CAAC,cAC9CzF,IAAA,SAAMwF,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAER,cAAc,CAACkB,IAAI,CAACpB,MAAM,CAAC,CAAO,CAAC,EAC/D,CAAC,cACN7E,KAAA,QAAKsF,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eAC3CzF,IAAA,SAAMwF,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,QAAM,CAAM,CAAC,cAC7CzF,IAAA,SAAMwF,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEU,IAAI,CAACnB,KAAK,CAAO,CAAC,EAC9C,CAAC,EACH,CAAC,GAlBE/D,QAmBL,CAAC,CAEV,CAAC,CAAC,CACC,CAAC,EACH,CACN,CAGAN,WAAW,eACVT,KAAA,QAAKsF,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7CzF,IAAA,OAAIwF,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CACnD5E,WAAW,CAAG,kBAAkB,CAAG,qBAAqB,CACvD,CAAC,cAELX,KAAA,SAAMmG,QAAQ,CAAE3D,YAAa,CAAC8C,SAAS,CAAC,WAAW,CAAAC,QAAA,eACjDvF,KAAA,QAAKsF,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDvF,KAAA,QAAAuF,QAAA,eACEzF,IAAA,UAAOwF,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,aAAW,CAAO,CAAC,cAC9EzF,IAAA,UACEsG,IAAI,CAAC,MAAM,CACXC,QAAQ,MACR7E,KAAK,CAAEX,QAAQ,CAACG,SAAU,CAC1BsF,QAAQ,CAAG7D,CAAC,EAAK3B,WAAW,CAAAmC,aAAA,CAAAA,aAAA,IAAKpC,QAAQ,MAAEG,SAAS,CAAEyB,CAAC,CAAC8D,MAAM,CAAC/E,KAAK,EAAC,CAAE,CACvE8D,SAAS,CAAC,6GAA6G,CACxH,CAAC,EACC,CAAC,cAENtF,KAAA,QAAAuF,QAAA,eACEzF,IAAA,UAAOwF,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,UAAQ,CAAO,CAAC,cAC3EzF,IAAA,WACE0B,KAAK,CAAEX,QAAQ,CAACE,QAAS,CACzBuF,QAAQ,CAAG7D,CAAC,EAAK3B,WAAW,CAAAmC,aAAA,CAAAA,aAAA,IAAKpC,QAAQ,MAAEE,QAAQ,CAAE0B,CAAC,CAAC8D,MAAM,CAAC/E,KAAK,EAAC,CAAE,CACtE8D,SAAS,CAAC,6GAA6G,CAAAC,QAAA,CAEtHhE,eAAe,CAACwE,GAAG,CAACS,MAAM,eACzBxG,KAAA,WAA2BwB,KAAK,CAAEgF,MAAM,CAAChF,KAAM,CAAA+D,QAAA,EAC5CiB,MAAM,CAAC9E,IAAI,CAAC,GAAC,CAAC8E,MAAM,CAAC/E,KAAK,GADhB+E,MAAM,CAAChF,KAEZ,CACT,CAAC,CACI,CAAC,EACN,CAAC,EACH,CAAC,cAENxB,KAAA,QAAAuF,QAAA,eACEzF,IAAA,UAAOwF,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,aAAW,CAAO,CAAC,cAC9EzF,IAAA,aACE0B,KAAK,CAAEX,QAAQ,CAACI,WAAY,CAC5BqF,QAAQ,CAAG7D,CAAC,EAAK3B,WAAW,CAAAmC,aAAA,CAAAA,aAAA,IAAKpC,QAAQ,MAAEI,WAAW,CAAEwB,CAAC,CAAC8D,MAAM,CAAC/E,KAAK,EAAC,CAAE,CACzEiF,IAAI,CAAE,CAAE,CACRnB,SAAS,CAAC,6GAA6G,CACxH,CAAC,EACC,CAAC,cAENtF,KAAA,QAAKsF,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDvF,KAAA,QAAAuF,QAAA,eACEzF,IAAA,UAAOwF,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,kBAAgB,CAAO,CAAC,cACnFvF,KAAA,QAAKsF,SAAS,CAAC,oCAAoC,CAAAC,QAAA,eACjDzF,IAAA,QAAKwF,SAAS,CAAC,sEAAsE,CAAAC,QAAA,cACnFzF,IAAA,SAAMwF,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAC,GAAC,CAAM,CAAC,CAChD,CAAC,cACNzF,IAAA,UACEsG,IAAI,CAAC,QAAQ,CACbC,QAAQ,MACRK,GAAG,CAAC,GAAG,CACPC,IAAI,CAAC,MAAM,CACXnF,KAAK,CAAEX,QAAQ,CAACK,cAAe,CAC/BoF,QAAQ,CAAG7D,CAAC,EAAK3B,WAAW,CAAAmC,aAAA,CAAAA,aAAA,IAAKpC,QAAQ,MAAEK,cAAc,CAAEuB,CAAC,CAAC8D,MAAM,CAAC/E,KAAK,EAAC,CAAE,CAC5E8D,SAAS,CAAC,6GAA6G,CACxH,CAAC,EACC,CAAC,EACH,CAAC,cAENtF,KAAA,QAAAuF,QAAA,eACEzF,IAAA,UAAOwF,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,aAAW,CAAO,CAAC,cAC9EvF,KAAA,QAAKsF,SAAS,CAAC,oCAAoC,CAAAC,QAAA,eACjDzF,IAAA,QAAKwF,SAAS,CAAC,sEAAsE,CAAAC,QAAA,cACnFzF,IAAA,SAAMwF,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAC,GAAC,CAAM,CAAC,CAChD,CAAC,cACNzF,IAAA,UACEsG,IAAI,CAAC,QAAQ,CACbM,GAAG,CAAC,GAAG,CACPC,IAAI,CAAC,MAAM,CACXnF,KAAK,CAAEX,QAAQ,CAACM,WAAY,CAC5BmF,QAAQ,CAAG7D,CAAC,EAAK3B,WAAW,CAAAmC,aAAA,CAAAA,aAAA,IAAKpC,QAAQ,MAAEM,WAAW,CAAEsB,CAAC,CAAC8D,MAAM,CAAC/E,KAAK,EAAC,CAAE,CACzE8D,SAAS,CAAC,6GAA6G,CACxH,CAAC,EACC,CAAC,EACH,CAAC,EACH,CAAC,cAENtF,KAAA,QAAKsF,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDvF,KAAA,QAAAuF,QAAA,eACEzF,IAAA,UAAOwF,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,QAAM,CAAO,CAAC,cACzEzF,IAAA,UACEsG,IAAI,CAAC,MAAM,CACX5E,KAAK,CAAEX,QAAQ,CAACO,MAAO,CACvBkF,QAAQ,CAAG7D,CAAC,EAAK3B,WAAW,CAAAmC,aAAA,CAAAA,aAAA,IAAKpC,QAAQ,MAAEO,MAAM,CAAEqB,CAAC,CAAC8D,MAAM,CAAC/E,KAAK,EAAC,CAAE,CACpE8D,SAAS,CAAC,6GAA6G,CACxH,CAAC,EACC,CAAC,cAENtF,KAAA,QAAAuF,QAAA,eACEzF,IAAA,UAAOwF,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,eAAa,CAAO,CAAC,cAChFzF,IAAA,UACEsG,IAAI,CAAC,MAAM,CACX5E,KAAK,CAAEX,QAAQ,CAACQ,aAAc,CAC9BiF,QAAQ,CAAG7D,CAAC,EAAK3B,WAAW,CAAAmC,aAAA,CAAAA,aAAA,IAAKpC,QAAQ,MAAEQ,aAAa,CAAEoB,CAAC,CAAC8D,MAAM,CAAC/E,KAAK,EAAC,CAAE,CAC3E8D,SAAS,CAAC,6GAA6G,CACxH,CAAC,EACC,CAAC,EACH,CAAC,cAENtF,KAAA,QAAAuF,QAAA,eACEzF,IAAA,UAAOwF,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,OAAK,CAAO,CAAC,cACxEzF,IAAA,aACE0B,KAAK,CAAEX,QAAQ,CAACS,KAAM,CACtBgF,QAAQ,CAAG7D,CAAC,EAAK3B,WAAW,CAAAmC,aAAA,CAAAA,aAAA,IAAKpC,QAAQ,MAAES,KAAK,CAAEmB,CAAC,CAAC8D,MAAM,CAAC/E,KAAK,EAAC,CAAE,CACnEiF,IAAI,CAAE,CAAE,CACRnB,SAAS,CAAC,6GAA6G,CACxH,CAAC,EACC,CAAC,cAENtF,KAAA,QAAKsF,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzCzF,IAAA,WACEsG,IAAI,CAAC,QAAQ,CACbX,OAAO,CAAEpC,SAAU,CACnBiC,SAAS,CAAC,2LAA2L,CAAAC,QAAA,CACtM,QAED,CAAQ,CAAC,cACTzF,IAAA,WACEsG,IAAI,CAAC,QAAQ,CACbd,SAAS,CAAC,+LAA+L,CAAAC,QAAA,CAExM5E,WAAW,CAAG,aAAa,CAAG,aAAa,CACtC,CAAC,EACN,CAAC,EACF,CAAC,EACJ,CACN,cAGDb,IAAA,QAAKwF,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CACxClF,WAAW,CAAC4D,MAAM,GAAK,CAAC,cACvBjE,KAAA,QAAKsF,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCzF,IAAA,QAAKwF,SAAS,CAAC,oBAAoB,CAAAC,QAAA,cACjCzF,IAAA,CAACN,kBAAkB,EAAC8F,SAAS,CAAC,mBAAmB,CAAE,CAAC,CACjD,CAAC,cACNxF,IAAA,OAAIwF,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,qBAAmB,CAAI,CAAC,cAC/EzF,IAAA,MAAGwF,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,yCAAuC,CAAG,CAAC,cAC7EvF,KAAA,WACEyF,OAAO,CAAEA,CAAA,GAAM/E,cAAc,CAAC,IAAI,CAAE,CACpC4E,SAAS,CAAC,gJAAgJ,CAAAC,QAAA,eAE1JzF,IAAA,CAACT,QAAQ,EAACiG,SAAS,CAAC,cAAc,CAAE,CAAC,iBAEvC,EAAQ,CAAC,EACN,CAAC,cAENxF,IAAA,QAAKwF,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BvF,KAAA,UAAOsF,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eACpDzF,IAAA,UAAOwF,SAAS,CAAC,YAAY,CAAAC,QAAA,cAC3BvF,KAAA,OAAAuF,QAAA,eACEzF,IAAA,OAAIwF,SAAS,CAAC,gFAAgF,CAAAC,QAAA,CAAC,MAE/F,CAAI,CAAC,cACLzF,IAAA,OAAIwF,SAAS,CAAC,gFAAgF,CAAAC,QAAA,CAAC,UAE/F,CAAI,CAAC,cACLzF,IAAA,OAAIwF,SAAS,CAAC,gFAAgF,CAAAC,QAAA,CAAC,WAE/F,CAAI,CAAC,cACLzF,IAAA,OAAIwF,SAAS,CAAC,gFAAgF,CAAAC,QAAA,CAAC,QAE/F,CAAI,CAAC,cACLzF,IAAA,OAAIwF,SAAS,CAAC,gFAAgF,CAAAC,QAAA,CAAC,UAE/F,CAAI,CAAC,cACLzF,IAAA,OAAIwF,SAAS,CAAC,gFAAgF,CAAAC,QAAA,CAAC,QAE/F,CAAI,CAAC,cACLzF,IAAA,OAAIwF,SAAS,CAAC,oBAAoB,CAAAC,QAAA,cAChCzF,IAAA,SAAMwF,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,SAAO,CAAM,CAAC,CACtC,CAAC,EACH,CAAC,CACA,CAAC,cACRzF,IAAA,UAAOwF,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CACjDlF,WAAW,CAAC0F,GAAG,CAAEnC,IAAI,EAAK,CACzB,KAAM,CAAAsC,MAAM,CAAGpC,iBAAiB,CAACF,IAAI,CAAC7C,QAAQ,CAAC,CAC/C,KAAM,CAAAwD,QAAQ,CAAG,CAACX,IAAI,CAAC1C,cAAc,EAAI,CAAC,GAAK0C,IAAI,CAACzC,WAAW,EAAI,CAAC,CAAC,CACrE,mBACEnB,KAAA,OAAkBsF,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC5CzF,IAAA,OAAIwF,SAAS,CAAC,WAAW,CAAAC,QAAA,cACvBvF,KAAA,QAAAuF,QAAA,eACEzF,IAAA,QAAKwF,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAE3B,IAAI,CAAC5C,SAAS,CAAM,CAAC,CACxE4C,IAAI,CAAC3C,WAAW,eACfnB,IAAA,QAAKwF,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAE3B,IAAI,CAAC3C,WAAW,CAAM,CACjF,EACE,CAAC,CACJ,CAAC,cACLnB,IAAA,OAAIwF,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cACzCvF,KAAA,SAAMsF,SAAS,4EAAAvD,MAAA,CAA6EmE,MAAM,CAACvE,KAAK,CAAG,CAAA4D,QAAA,eACzGzF,IAAA,SAAMwF,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAEW,MAAM,CAACxE,IAAI,CAAO,CAAC,CAC1CwE,MAAM,CAACzE,KAAK,EACT,CAAC,CACL,CAAC,cACL3B,IAAA,OAAIwF,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAC9DR,cAAc,CAACnB,IAAI,CAAC1C,cAAc,EAAI,CAAC,CAAC,CACvC,CAAC,cACLpB,IAAA,OAAIwF,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAC9DR,cAAc,CAACnB,IAAI,CAACzC,WAAW,EAAI,CAAC,CAAC,CACpC,CAAC,cACLrB,IAAA,OAAIwF,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cACzCvF,KAAA,SAAMsF,SAAS,wBAAAvD,MAAA,CAAyBwC,QAAQ,EAAI,CAAC,CAAG,gBAAgB,CAAG,cAAc,CAAG,CAAAgB,QAAA,EACzFR,cAAc,CAACW,IAAI,CAACC,GAAG,CAACpB,QAAQ,CAAC,CAAC,CAClCA,QAAQ,CAAG,CAAC,EAAI,OAAO,EACpB,CAAC,CACL,CAAC,cACLzE,IAAA,OAAIwF,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAC9D3B,IAAI,CAACxC,MAAM,EAAI,GAAG,CACjB,CAAC,cACLtB,IAAA,OAAIwF,SAAS,CAAC,4DAA4D,CAAAC,QAAA,cACxEvF,KAAA,QAAKsF,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CzF,IAAA,WACE2F,OAAO,CAAEA,CAAA,GAAM9B,UAAU,CAACC,IAAI,CAAE,CAChC0B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,cAE7CzF,IAAA,CAACR,UAAU,EAACgG,SAAS,CAAC,SAAS,CAAE,CAAC,CAC5B,CAAC,cACTxF,IAAA,WACE2F,OAAO,CAAEA,CAAA,GAAMlC,YAAY,CAACK,IAAI,CAAChB,EAAE,CAAE,CACrC0C,SAAS,CAAC,iCAAiC,CAAAC,QAAA,cAE3CzF,IAAA,CAACP,SAAS,EAAC+F,SAAS,CAAC,SAAS,CAAE,CAAC,CAC3B,CAAC,EACN,CAAC,CACJ,CAAC,GA7CE1B,IAAI,CAAChB,EA8CV,CAAC,CAET,CAAC,CAAC,CACG,CAAC,EACH,CAAC,CACL,CACN,CACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA3C,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}