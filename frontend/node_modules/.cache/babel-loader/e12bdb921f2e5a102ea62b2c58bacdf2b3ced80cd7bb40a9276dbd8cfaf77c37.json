{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useAuth}from'../../context/AuthContext';import{PlusIcon,PencilIcon,TrashIcon,ChevronRightIcon,ChevronDownIcon,ClockIcon,UserIcon,CalendarIcon}from'@heroicons/react/24/outline';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const WorkBreakdownStructure=_ref=>{let{projectId}=_ref;const{user}=useAuth();const[wbsTasks,setWbsTasks]=useState([]);const[loading,setLoading]=useState(true);const[showAddForm,setShowAddForm]=useState(false);const[editingTask,setEditingTask]=useState(null);const[expandedTasks,setExpandedTasks]=useState(new Set());const[formData,setFormData]=useState({name:'',description:'',parent_id:null,level:1,wbs_code:'',status:'not_started',assigned_to:'',estimated_hours:0,start_date:'',end_date:'',dependencies:[],deliverables:[],notes:''});const statusOptions=[{value:'not_started',label:'Not Started',color:'bg-gray-100 text-gray-800'},{value:'in_progress',label:'In Progress',color:'bg-blue-100 text-blue-800'},{value:'completed',label:'Completed',color:'bg-green-100 text-green-800'},{value:'on_hold',label:'On Hold',color:'bg-yellow-100 text-yellow-800'},{value:'cancelled',label:'Cancelled',color:'bg-red-100 text-red-800'}];useEffect(()=>{if(projectId){fetchWBSTasks();}},[projectId]);const fetchWBSTasks=async()=>{try{const response=await fetch(\"/api/projects/\".concat(projectId,\"/wbs\"),{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});if(response.ok){const tasks=await response.json();setWbsTasks(tasks);}else{toast.error('Failed to fetch WBS tasks');}}catch(error){console.error('Error fetching WBS tasks:',error);toast.error('Error loading WBS tasks');}finally{setLoading(false);}};const handleSubmit=async e=>{e.preventDefault();try{const url=editingTask?\"/api/wbs/\".concat(editingTask.id):\"/api/projects/\".concat(projectId,\"/wbs\");const method=editingTask?'PUT':'POST';const response=await fetch(url,{method,headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem('token'))},body:JSON.stringify(_objectSpread(_objectSpread({},formData),{},{project_id:projectId,estimated_hours:parseFloat(formData.estimated_hours)||0,deliverables:formData.deliverables.filter(d=>d.trim()),dependencies:formData.dependencies.filter(d=>d.trim())}))});if(response.ok){toast.success(editingTask?'Task updated successfully':'Task created successfully');fetchWBSTasks();resetForm();}else{const error=await response.json();toast.error(error.detail||'Failed to save task');}}catch(error){console.error('Error saving task:',error);toast.error('Error saving task');}};const handleDelete=async taskId=>{if(!window.confirm('Are you sure you want to delete this task?'))return;try{const response=await fetch(\"/api/wbs/\".concat(taskId),{method:'DELETE',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});if(response.ok){toast.success('Task deleted successfully');fetchWBSTasks();}else{toast.error('Failed to delete task');}}catch(error){console.error('Error deleting task:',error);toast.error('Error deleting task');}};const resetForm=()=>{setFormData({name:'',description:'',parent_id:null,level:1,wbs_code:'',status:'not_started',assigned_to:'',estimated_hours:0,start_date:'',end_date:'',dependencies:[],deliverables:[],notes:''});setShowAddForm(false);setEditingTask(null);};const handleEdit=task=>{setEditingTask(task);setFormData({name:task.name,description:task.description||'',parent_id:task.parent_id,level:task.level,wbs_code:task.wbs_code,status:task.status,assigned_to:task.assigned_to||'',estimated_hours:task.estimated_hours||0,start_date:task.start_date?task.start_date.split('T')[0]:'',end_date:task.end_date?task.end_date.split('T')[0]:'',dependencies:task.dependencies||[],deliverables:task.deliverables||[],notes:task.notes||''});setShowAddForm(true);};const toggleExpanded=taskId=>{const newExpanded=new Set(expandedTasks);if(newExpanded.has(taskId)){newExpanded.delete(taskId);}else{newExpanded.add(taskId);}setExpandedTasks(newExpanded);};const getStatusBadge=status=>{const statusConfig=statusOptions.find(s=>s.value===status);return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \".concat((statusConfig===null||statusConfig===void 0?void 0:statusConfig.color)||'bg-gray-100 text-gray-800'),children:(statusConfig===null||statusConfig===void 0?void 0:statusConfig.label)||status});};const buildTaskHierarchy=tasks=>{const taskMap={};const rootTasks=[];// Create a map of all tasks\ntasks.forEach(task=>{taskMap[task.id]=_objectSpread(_objectSpread({},task),{},{children:[]});});// Build hierarchy\ntasks.forEach(task=>{if(task.parent_id&&taskMap[task.parent_id]){taskMap[task.parent_id].children.push(taskMap[task.id]);}else{rootTasks.push(taskMap[task.id]);}});return rootTasks;};const renderTask=function(task){let depth=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;const hasChildren=task.children&&task.children.length>0;const isExpanded=expandedTasks.has(task.id);return/*#__PURE__*/_jsxs(\"div\",{className:\"border-b border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center py-3 px-4 hover:bg-gray-50 \".concat(depth>0?'ml-'+depth*6:''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center flex-1 min-w-0\",children:[hasChildren&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleExpanded(task.id),className:\"mr-2 p-1 hover:bg-gray-200 rounded\",children:isExpanded?/*#__PURE__*/_jsx(ChevronDownIcon,{className:\"h-4 w-4\"}):/*#__PURE__*/_jsx(ChevronRightIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:task.wbs_code}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-900 truncate\",children:task.name}),getStatusBadge(task.status)]}),task.description&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500 truncate\",children:task.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center space-x-4 text-xs text-gray-500\",children:[task.estimated_hours>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"h-3 w-3 mr-1\"}),task.estimated_hours,\"h\"]}),task.assigned_to&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(UserIcon,{className:\"h-3 w-3 mr-1\"}),task.assigned_to]}),task.end_date&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(CalendarIcon,{className:\"h-3 w-3 mr-1\"}),new Date(task.end_date).toLocaleDateString()]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(task),className:\"p-1 text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(PencilIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(task.id),className:\"p-1 text-gray-400 hover:text-red-600\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4\"})})]})]}),hasChildren&&isExpanded&&/*#__PURE__*/_jsx(\"div\",{children:task.children.map(child=>renderTask(child,depth+1))})]},task.id);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"})});}const hierarchicalTasks=buildTaskHierarchy(wbsTasks);return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Work Breakdown Structure\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:\"Organize project work into manageable tasks and subtasks\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAddForm(true),className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-4 w-4 mr-2\"}),\"Add Task\"]})]}),showAddForm&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:editingTask?'Edit Task':'Add New Task'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Task Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:formData.name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{name:e.target.value})),className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"WBS Code *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:formData.wbs_code,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{wbs_code:e.target.value})),placeholder:\"e.g., 1.1.2\",className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.description,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{description:e.target.value})),rows:3,className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Status\"}),/*#__PURE__*/_jsx(\"select\",{value:formData.status,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{status:e.target.value})),className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\",children:statusOptions.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label},option.value))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Estimated Hours\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",step:\"0.5\",value:formData.estimated_hours,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{estimated_hours:e.target.value})),className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Level\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",max:\"5\",value:formData.level,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{level:parseInt(e.target.value)})),className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Start Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:formData.start_date,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{start_date:e.target.value})),className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"End Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:formData.end_date,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{end_date:e.target.value})),className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Assigned To\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.assigned_to,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{assigned_to:e.target.value})),className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:resetForm,className:\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:editingTask?'Update Task':'Create Task'})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow rounded-lg\",children:hierarchicalTasks.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400 mb-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"mx-auto h-12 w-12\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No WBS tasks yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-4\",children:\"Get started by creating your first work breakdown structure task.\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAddForm(true),className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-4 w-4 mr-2\"}),\"Add First Task\"]})]}):/*#__PURE__*/_jsx(\"div\",{children:hierarchicalTasks.map(task=>renderTask(task))})})]});};export default WorkBreakdownStructure;","map":{"version":3,"names":["React","useState","useEffect","useAuth","PlusIcon","PencilIcon","TrashIcon","ChevronRightIcon","ChevronDownIcon","ClockIcon","UserIcon","CalendarIcon","toast","jsx","_jsx","jsxs","_jsxs","WorkBreakdownStructure","_ref","projectId","user","wbsTasks","setWbsTasks","loading","setLoading","showAddForm","setShowAddForm","editingTask","setEditingTask","expandedTasks","setExpandedTasks","Set","formData","setFormData","name","description","parent_id","level","wbs_code","status","assigned_to","estimated_hours","start_date","end_date","dependencies","deliverables","notes","statusOptions","value","label","color","fetchWBSTasks","response","fetch","concat","headers","localStorage","getItem","ok","tasks","json","error","console","handleSubmit","e","preventDefault","url","id","method","body","JSON","stringify","_objectSpread","project_id","parseFloat","filter","d","trim","success","resetForm","detail","handleDelete","taskId","window","confirm","handleEdit","task","split","toggleExpanded","newExpanded","has","delete","add","getStatusBadge","statusConfig","find","s","className","children","buildTaskHierarchy","taskMap","rootTasks","forEach","push","renderTask","depth","arguments","length","undefined","hasChildren","isExpanded","onClick","Date","toLocaleDateString","map","child","hierarchicalTasks","onSubmit","type","required","onChange","target","placeholder","rows","option","min","step","max","parseInt","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth"],"sources":["/app/frontend/src/components/planning/WorkBreakdownStructure.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../context/AuthContext';\nimport { \n  PlusIcon, \n  PencilIcon, \n  TrashIcon,\n  ChevronRightIcon,\n  ChevronDownIcon,\n  ClockIcon,\n  UserIcon,\n  CalendarIcon\n} from '@heroicons/react/24/outline';\nimport toast from 'react-hot-toast';\n\nconst WorkBreakdownStructure = ({ projectId }) => {\n  const { user } = useAuth();\n  const [wbsTasks, setWbsTasks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [editingTask, setEditingTask] = useState(null);\n  const [expandedTasks, setExpandedTasks] = useState(new Set());\n\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    parent_id: null,\n    level: 1,\n    wbs_code: '',\n    status: 'not_started',\n    assigned_to: '',\n    estimated_hours: 0,\n    start_date: '',\n    end_date: '',\n    dependencies: [],\n    deliverables: [],\n    notes: ''\n  });\n\n  const statusOptions = [\n    { value: 'not_started', label: 'Not Started', color: 'bg-gray-100 text-gray-800' },\n    { value: 'in_progress', label: 'In Progress', color: 'bg-blue-100 text-blue-800' },\n    { value: 'completed', label: 'Completed', color: 'bg-green-100 text-green-800' },\n    { value: 'on_hold', label: 'On Hold', color: 'bg-yellow-100 text-yellow-800' },\n    { value: 'cancelled', label: 'Cancelled', color: 'bg-red-100 text-red-800' }\n  ];\n\n  useEffect(() => {\n    if (projectId) {\n      fetchWBSTasks();\n    }\n  }, [projectId]);\n\n  const fetchWBSTasks = async () => {\n    try {\n      const response = await fetch(`/api/projects/${projectId}/wbs`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n\n      if (response.ok) {\n        const tasks = await response.json();\n        setWbsTasks(tasks);\n      } else {\n        toast.error('Failed to fetch WBS tasks');\n      }\n    } catch (error) {\n      console.error('Error fetching WBS tasks:', error);\n      toast.error('Error loading WBS tasks');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    try {\n      const url = editingTask \n        ? `/api/wbs/${editingTask.id}`\n        : `/api/projects/${projectId}/wbs`;\n      \n      const method = editingTask ? 'PUT' : 'POST';\n      \n      const response = await fetch(url, {\n        method,\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify({\n          ...formData,\n          project_id: projectId,\n          estimated_hours: parseFloat(formData.estimated_hours) || 0,\n          deliverables: formData.deliverables.filter(d => d.trim()),\n          dependencies: formData.dependencies.filter(d => d.trim())\n        })\n      });\n\n      if (response.ok) {\n        toast.success(editingTask ? 'Task updated successfully' : 'Task created successfully');\n        fetchWBSTasks();\n        resetForm();\n      } else {\n        const error = await response.json();\n        toast.error(error.detail || 'Failed to save task');\n      }\n    } catch (error) {\n      console.error('Error saving task:', error);\n      toast.error('Error saving task');\n    }\n  };\n\n  const handleDelete = async (taskId) => {\n    if (!window.confirm('Are you sure you want to delete this task?')) return;\n\n    try {\n      const response = await fetch(`/api/wbs/${taskId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n\n      if (response.ok) {\n        toast.success('Task deleted successfully');\n        fetchWBSTasks();\n      } else {\n        toast.error('Failed to delete task');\n      }\n    } catch (error) {\n      console.error('Error deleting task:', error);\n      toast.error('Error deleting task');\n    }\n  };\n\n  const resetForm = () => {\n    setFormData({\n      name: '',\n      description: '',\n      parent_id: null,\n      level: 1,\n      wbs_code: '',\n      status: 'not_started',\n      assigned_to: '',\n      estimated_hours: 0,\n      start_date: '',\n      end_date: '',\n      dependencies: [],\n      deliverables: [],\n      notes: ''\n    });\n    setShowAddForm(false);\n    setEditingTask(null);\n  };\n\n  const handleEdit = (task) => {\n    setEditingTask(task);\n    setFormData({\n      name: task.name,\n      description: task.description || '',\n      parent_id: task.parent_id,\n      level: task.level,\n      wbs_code: task.wbs_code,\n      status: task.status,\n      assigned_to: task.assigned_to || '',\n      estimated_hours: task.estimated_hours || 0,\n      start_date: task.start_date ? task.start_date.split('T')[0] : '',\n      end_date: task.end_date ? task.end_date.split('T')[0] : '',\n      dependencies: task.dependencies || [],\n      deliverables: task.deliverables || [],\n      notes: task.notes || ''\n    });\n    setShowAddForm(true);\n  };\n\n  const toggleExpanded = (taskId) => {\n    const newExpanded = new Set(expandedTasks);\n    if (newExpanded.has(taskId)) {\n      newExpanded.delete(taskId);\n    } else {\n      newExpanded.add(taskId);\n    }\n    setExpandedTasks(newExpanded);\n  };\n\n  const getStatusBadge = (status) => {\n    const statusConfig = statusOptions.find(s => s.value === status);\n    return (\n      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${statusConfig?.color || 'bg-gray-100 text-gray-800'}`}>\n        {statusConfig?.label || status}\n      </span>\n    );\n  };\n\n  const buildTaskHierarchy = (tasks) => {\n    const taskMap = {};\n    const rootTasks = [];\n\n    // Create a map of all tasks\n    tasks.forEach(task => {\n      taskMap[task.id] = { ...task, children: [] };\n    });\n\n    // Build hierarchy\n    tasks.forEach(task => {\n      if (task.parent_id && taskMap[task.parent_id]) {\n        taskMap[task.parent_id].children.push(taskMap[task.id]);\n      } else {\n        rootTasks.push(taskMap[task.id]);\n      }\n    });\n\n    return rootTasks;\n  };\n\n  const renderTask = (task, depth = 0) => {\n    const hasChildren = task.children && task.children.length > 0;\n    const isExpanded = expandedTasks.has(task.id);\n\n    return (\n      <div key={task.id} className=\"border-b border-gray-200\">\n        <div className={`flex items-center py-3 px-4 hover:bg-gray-50 ${depth > 0 ? 'ml-' + (depth * 6) : ''}`}>\n          <div className=\"flex items-center flex-1 min-w-0\">\n            {hasChildren && (\n              <button\n                onClick={() => toggleExpanded(task.id)}\n                className=\"mr-2 p-1 hover:bg-gray-200 rounded\"\n              >\n                {isExpanded ? (\n                  <ChevronDownIcon className=\"h-4 w-4\" />\n                ) : (\n                  <ChevronRightIcon className=\"h-4 w-4\" />\n                )}\n              </button>\n            )}\n            \n            <div className=\"flex-1 min-w-0\">\n              <div className=\"flex items-center space-x-3\">\n                <span className=\"text-sm font-medium text-gray-500\">{task.wbs_code}</span>\n                <h4 className=\"text-sm font-medium text-gray-900 truncate\">{task.name}</h4>\n                {getStatusBadge(task.status)}\n              </div>\n              \n              {task.description && (\n                <p className=\"mt-1 text-sm text-gray-500 truncate\">{task.description}</p>\n              )}\n              \n              <div className=\"mt-2 flex items-center space-x-4 text-xs text-gray-500\">\n                {task.estimated_hours > 0 && (\n                  <div className=\"flex items-center\">\n                    <ClockIcon className=\"h-3 w-3 mr-1\" />\n                    {task.estimated_hours}h\n                  </div>\n                )}\n                \n                {task.assigned_to && (\n                  <div className=\"flex items-center\">\n                    <UserIcon className=\"h-3 w-3 mr-1\" />\n                    {task.assigned_to}\n                  </div>\n                )}\n                \n                {task.end_date && (\n                  <div className=\"flex items-center\">\n                    <CalendarIcon className=\"h-3 w-3 mr-1\" />\n                    {new Date(task.end_date).toLocaleDateString()}\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"flex items-center space-x-2\">\n            <button\n              onClick={() => handleEdit(task)}\n              className=\"p-1 text-gray-400 hover:text-gray-600\"\n            >\n              <PencilIcon className=\"h-4 w-4\" />\n            </button>\n            <button\n              onClick={() => handleDelete(task.id)}\n              className=\"p-1 text-gray-400 hover:text-red-600\"\n            >\n              <TrashIcon className=\"h-4 w-4\" />\n            </button>\n          </div>\n        </div>\n        \n        {hasChildren && isExpanded && (\n          <div>\n            {task.children.map(child => renderTask(child, depth + 1))}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  const hierarchicalTasks = buildTaskHierarchy(wbsTasks);\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-gray-900\">Work Breakdown Structure</h2>\n          <p className=\"mt-1 text-sm text-gray-500\">\n            Organize project work into manageable tasks and subtasks\n          </p>\n        </div>\n        <button\n          onClick={() => setShowAddForm(true)}\n          className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n        >\n          <PlusIcon className=\"h-4 w-4 mr-2\" />\n          Add Task\n        </button>\n      </div>\n\n      {/* Add/Edit Form */}\n      {showAddForm && (\n        <div className=\"bg-white shadow rounded-lg p-6\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n            {editingTask ? 'Edit Task' : 'Add New Task'}\n          </h3>\n          \n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Task Name *</label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.name}\n                  onChange={(e) => setFormData({...formData, name: e.target.value})}\n                  className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">WBS Code *</label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.wbs_code}\n                  onChange={(e) => setFormData({...formData, wbs_code: e.target.value})}\n                  placeholder=\"e.g., 1.1.2\"\n                  className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700\">Description</label>\n              <textarea\n                value={formData.description}\n                onChange={(e) => setFormData({...formData, description: e.target.value})}\n                rows={3}\n                className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n              />\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Status</label>\n                <select\n                  value={formData.status}\n                  onChange={(e) => setFormData({...formData, status: e.target.value})}\n                  className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                >\n                  {statusOptions.map(option => (\n                    <option key={option.value} value={option.value}>\n                      {option.label}\n                    </option>\n                  ))}\n                </select>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Estimated Hours</label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  step=\"0.5\"\n                  value={formData.estimated_hours}\n                  onChange={(e) => setFormData({...formData, estimated_hours: e.target.value})}\n                  className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Level</label>\n                <input\n                  type=\"number\"\n                  min=\"1\"\n                  max=\"5\"\n                  value={formData.level}\n                  onChange={(e) => setFormData({...formData, level: parseInt(e.target.value)})}\n                  className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                />\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Start Date</label>\n                <input\n                  type=\"date\"\n                  value={formData.start_date}\n                  onChange={(e) => setFormData({...formData, start_date: e.target.value})}\n                  className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">End Date</label>\n                <input\n                  type=\"date\"\n                  value={formData.end_date}\n                  onChange={(e) => setFormData({...formData, end_date: e.target.value})}\n                  className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700\">Assigned To</label>\n              <input\n                type=\"text\"\n                value={formData.assigned_to}\n                onChange={(e) => setFormData({...formData, assigned_to: e.target.value})}\n                className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n              />\n            </div>\n\n            <div className=\"flex justify-end space-x-3\">\n              <button\n                type=\"button\"\n                onClick={resetForm}\n                className=\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                className=\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                {editingTask ? 'Update Task' : 'Create Task'}\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n\n      {/* Tasks List */}\n      <div className=\"bg-white shadow rounded-lg\">\n        {hierarchicalTasks.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <div className=\"text-gray-400 mb-4\">\n              <svg className=\"mx-auto h-12 w-12\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01\" />\n              </svg>\n            </div>\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No WBS tasks yet</h3>\n            <p className=\"text-gray-500 mb-4\">Get started by creating your first work breakdown structure task.</p>\n            <button\n              onClick={() => setShowAddForm(true)}\n              className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700\"\n            >\n              <PlusIcon className=\"h-4 w-4 mr-2\" />\n              Add First Task\n            </button>\n          </div>\n        ) : (\n          <div>\n            {hierarchicalTasks.map(task => renderTask(task))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default WorkBreakdownStructure;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}