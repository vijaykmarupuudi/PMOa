{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{useAuth}from'../../context/AuthContext';import toast from'react-hot-toast';import{PlusIcon,CalendarIcon,ClockIcon,ArrowRightIcon,FlagIcon,ChartBarIcon,AdjustmentsHorizontalIcon}from'@heroicons/react/24/outline';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BACKEND_URL=process.env.REACT_APP_BACKEND_URL;const TimelineGantt=_ref=>{let{projectId}=_ref;const{user,token}=useAuth();const[tasks,setTasks]=useState([]);const[milestones,setMilestones]=useState([]);const[loading,setLoading]=useState(false);const[showTaskForm,setShowTaskForm]=useState(false);const[showMilestoneForm,setShowMilestoneForm]=useState(false);const[editingTask,setEditingTask]=useState(null);const[editingMilestone,setEditingMilestone]=useState(null);const[viewRange,setViewRange]=useState('month');// month, quarter, year\nconst[currentDate,setCurrentDate]=useState(new Date());const[taskFormData,setTaskFormData]=useState({name:'',description:'',start_date:'',end_date:'',assigned_to:'',status:'not_started',progress:0,dependencies:[],priority:'medium',estimated_hours:0});const[milestoneFormData,setMilestoneFormData]=useState({name:'',description:'',due_date:'',type:'deliverable',// deliverable, checkpoint, deadline\nstatus:'pending'});const statusOptions=[{value:'not_started',label:'Not Started',color:'bg-gray-100 text-gray-800'},{value:'in_progress',label:'In Progress',color:'bg-blue-100 text-blue-800'},{value:'completed',label:'Completed',color:'bg-green-100 text-green-800'},{value:'on_hold',label:'On Hold',color:'bg-yellow-100 text-yellow-800'},{value:'cancelled',label:'Cancelled',color:'bg-red-100 text-red-800'}];const priorityOptions=[{value:'low',label:'Low',color:'bg-green-100 text-green-800'},{value:'medium',label:'Medium',color:'bg-yellow-100 text-yellow-800'},{value:'high',label:'High',color:'bg-red-100 text-red-800'},{value:'critical',label:'Critical',color:'bg-purple-100 text-purple-800'}];const milestoneTypes=[{value:'deliverable',label:'Deliverable',icon:'📦'},{value:'checkpoint',label:'Checkpoint',icon:'🎯'},{value:'deadline',label:'Deadline',icon:'⏰'}];useEffect(()=>{if(projectId){fetchTimelineData();}},[projectId]);const fetchTimelineData=async()=>{setLoading(true);try{// Fetch tasks\nconst tasksResponse=await fetch(\"\".concat(BACKEND_URL,\"/api/projects/\").concat(projectId,\"/timeline/tasks\"),{headers:{'Authorization':\"Bearer \".concat(token)}});if(tasksResponse.ok){const tasksData=await tasksResponse.json();setTasks(tasksData);}// Fetch milestones\nconst milestonesResponse=await fetch(\"\".concat(BACKEND_URL,\"/api/projects/\").concat(projectId,\"/timeline/milestones\"),{headers:{'Authorization':\"Bearer \".concat(token)}});if(milestonesResponse.ok){const milestonesData=await milestonesResponse.json();setMilestones(milestonesData);}}catch(error){console.error('Error fetching timeline data:',error);toast.error('Failed to load timeline data');}setLoading(false);};const handleTaskSubmit=async e=>{e.preventDefault();try{const url=editingTask?\"\".concat(BACKEND_URL,\"/api/projects/\").concat(projectId,\"/timeline/tasks/\").concat(editingTask.id):\"\".concat(BACKEND_URL,\"/api/projects/\").concat(projectId,\"/timeline/tasks\");const method=editingTask?'PUT':'POST';const payload=_objectSpread(_objectSpread({},taskFormData),{},{project_id:projectId,start_date:taskFormData.start_date||null,end_date:taskFormData.end_date||null});const response=await fetch(url,{method,headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify(payload)});if(response.ok){toast.success(editingTask?'Task updated!':'Task created!');fetchTimelineData();resetTaskForm();}else{toast.error('Failed to save task');}}catch(error){console.error('Error saving task:',error);toast.error('Failed to save task');}};const handleMilestoneSubmit=async e=>{e.preventDefault();try{const url=editingMilestone?\"\".concat(BACKEND_URL,\"/api/projects/\").concat(projectId,\"/timeline/milestones/\").concat(editingMilestone.id):\"\".concat(BACKEND_URL,\"/api/projects/\").concat(projectId,\"/timeline/milestones\");const method=editingMilestone?'PUT':'POST';const payload=_objectSpread(_objectSpread({},milestoneFormData),{},{project_id:projectId});const response=await fetch(url,{method,headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify(payload)});if(response.ok){toast.success(editingMilestone?'Milestone updated!':'Milestone created!');fetchTimelineData();resetMilestoneForm();}else{toast.error('Failed to save milestone');}}catch(error){console.error('Error saving milestone:',error);toast.error('Failed to save milestone');}};const handleDeleteTask=async taskId=>{if(!window.confirm('Are you sure you want to delete this task?'))return;try{const response=await fetch(\"\".concat(BACKEND_URL,\"/api/projects/\").concat(projectId,\"/timeline/tasks/\").concat(taskId),{method:'DELETE',headers:{'Authorization':\"Bearer \".concat(token)}});if(response.ok){toast.success('Task deleted!');fetchTimelineData();}else{toast.error('Failed to delete task');}}catch(error){console.error('Error deleting task:',error);toast.error('Failed to delete task');}};const handleDeleteMilestone=async milestoneId=>{if(!window.confirm('Are you sure you want to delete this milestone?'))return;try{const response=await fetch(\"\".concat(BACKEND_URL,\"/api/projects/\").concat(projectId,\"/timeline/milestones/\").concat(milestoneId),{method:'DELETE',headers:{'Authorization':\"Bearer \".concat(token)}});if(response.ok){toast.success('Milestone deleted!');fetchTimelineData();}else{toast.error('Failed to delete milestone');}}catch(error){console.error('Error deleting milestone:',error);toast.error('Failed to delete milestone');}};const resetTaskForm=()=>{setTaskFormData({name:'',description:'',start_date:'',end_date:'',assigned_to:'',status:'not_started',progress:0,dependencies:[],priority:'medium',estimated_hours:0});setEditingTask(null);setShowTaskForm(false);};const resetMilestoneForm=()=>{setMilestoneFormData({name:'',description:'',due_date:'',type:'deliverable',status:'pending'});setEditingMilestone(null);setShowMilestoneForm(false);};const editTask=task=>{setTaskFormData({name:task.name,description:task.description||'',start_date:task.start_date?task.start_date.split('T')[0]:'',end_date:task.end_date?task.end_date.split('T')[0]:'',assigned_to:task.assigned_to||'',status:task.status,progress:task.progress||0,dependencies:task.dependencies||[],priority:task.priority||'medium',estimated_hours:task.estimated_hours||0});setEditingTask(task);setShowTaskForm(true);};const editMilestone=milestone=>{setMilestoneFormData({name:milestone.name,description:milestone.description||'',due_date:milestone.due_date?milestone.due_date.split('T')[0]:'',type:milestone.type||'deliverable',status:milestone.status||'pending'});setEditingMilestone(milestone);setShowMilestoneForm(true);};// Gantt Chart Helper Functions\nconst getTimelineRange=()=>{const now=new Date();let startDate,endDate;if(viewRange==='month'){startDate=new Date(now.getFullYear(),now.getMonth()-1,1);endDate=new Date(now.getFullYear(),now.getMonth()+2,0);}else if(viewRange==='quarter'){const quarter=Math.floor(now.getMonth()/3);startDate=new Date(now.getFullYear(),quarter*3-3,1);endDate=new Date(now.getFullYear(),(quarter+1)*3,0);}else{// year\nstartDate=new Date(now.getFullYear(),0,1);endDate=new Date(now.getFullYear()+1,0,0);}return{startDate,endDate};};const generateTimelineColumns=()=>{const{startDate,endDate}=getTimelineRange();const columns=[];const current=new Date(startDate);while(current<=endDate){if(viewRange==='month'){columns.push({date:new Date(current),label:current.toLocaleDateString('en-US',{month:'short',day:'numeric'})});current.setDate(current.getDate()+1);}else if(viewRange==='quarter'){columns.push({date:new Date(current),label:current.toLocaleDateString('en-US',{month:'short'})});current.setMonth(current.getMonth()+1);}else{columns.push({date:new Date(current),label:current.toLocaleDateString('en-US',{month:'short'})});current.setMonth(current.getMonth()+1);}}return columns;};const calculateTaskPosition=(task,totalDays)=>{if(!task.start_date||!task.end_date)return null;const{startDate}=getTimelineRange();const taskStart=new Date(task.start_date);const taskEnd=new Date(task.end_date);const startOffset=Math.max(0,(taskStart-startDate)/(1000*60*60*24));const duration=Math.max(1,(taskEnd-taskStart)/(1000*60*60*24)+1);const leftPercentage=startOffset/totalDays*100;const widthPercentage=duration/totalDays*100;return{left:leftPercentage,width:Math.min(widthPercentage,100-leftPercentage)};};const calculateMilestonePosition=(milestone,totalDays)=>{if(!milestone.due_date)return null;const{startDate}=getTimelineRange();const milestoneDate=new Date(milestone.due_date);const offset=Math.max(0,(milestoneDate-startDate)/(1000*60*60*24));const leftPercentage=offset/totalDays*100;return leftPercentage<=100?{left:leftPercentage}:null;};const timelineColumns=generateTimelineColumns();const totalDays=timelineColumns.length;if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",\"data-testid\":\"timeline-gantt\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:\"Timeline & Gantt Chart\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-600\",children:\"Visual project timeline with tasks, dependencies, and milestones\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"select\",{value:viewRange,onChange:e=>setViewRange(e.target.value),className:\"px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500\",\"data-testid\":\"view-range-selector\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"month\",children:\"Monthly View\"}),/*#__PURE__*/_jsx(\"option\",{value:\"quarter\",children:\"Quarterly View\"}),/*#__PURE__*/_jsx(\"option\",{value:\"year\",children:\"Yearly View\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowMilestoneForm(true),className:\"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\",\"data-testid\":\"add-milestone-btn\",children:[/*#__PURE__*/_jsx(FlagIcon,{className:\"h-4 w-4 mr-2\"}),\"Add Milestone\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowTaskForm(true),className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700\",\"data-testid\":\"add-task-btn\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-4 w-4 mr-2\"}),\"Add Task\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(ChartBarIcon,{className:\"h-8 w-8 text-blue-600\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-blue-900\",children:\"Total Tasks\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-blue-600\",children:tasks.length})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-50 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"h-8 w-8 text-green-600\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-green-900\",children:\"Completed\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-green-600\",children:tasks.filter(t=>t.status==='completed').length})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-50 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(AdjustmentsHorizontalIcon,{className:\"h-8 w-8 text-yellow-600\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-yellow-900\",children:\"In Progress\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-yellow-600\",children:tasks.filter(t=>t.status==='in_progress').length})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-purple-50 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(FlagIcon,{className:\"h-8 w-8 text-purple-600\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-purple-900\",children:\"Milestones\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-purple-600\",children:milestones.length})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Gantt Chart\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"inline-block min-w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-80 flex-shrink-0 px-6 py-3 bg-gray-50 font-medium text-gray-900\",children:\"Task / Milestone\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex\",children:timelineColumns.map((col,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 px-2 py-3 bg-gray-50 border-l border-gray-200 text-center text-xs font-medium text-gray-500\",style:{minWidth:'40px'},children:col.label},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex border-b border-gray-200 bg-purple-25\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-80 flex-shrink-0 px-6 py-3 font-medium text-purple-900\",children:\"\\uD83C\\uDFC1 Milestones\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 relative py-3\",style:{minHeight:'40px'},children:milestones.map(milestone=>{var _milestoneTypes$find;const position=calculateMilestonePosition(milestone,totalDays);if(!position)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-1/2 transform -translate-y-1/2 -translate-x-1/2\",style:{left:\"\".concat(position.left,\"%\")},title:\"\".concat(milestone.name,\" - \").concat(new Date(milestone.due_date).toLocaleDateString()),children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-0 h-0 border-l-8 border-r-8 border-b-8 border-l-transparent border-r-transparent border-b-purple-600\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-2 left-1/2 transform -translate-x-1/2 text-xs font-medium text-purple-600 whitespace-nowrap\",children:((_milestoneTypes$find=milestoneTypes.find(t=>t.value===milestone.type))===null||_milestoneTypes$find===void 0?void 0:_milestoneTypes$find.icon)||'🎯'})]},milestone.id);})})]}),tasks.map(task=>{const statusOption=statusOptions.find(s=>s.value===task.status);const priorityOption=priorityOptions.find(p=>p.value===task.priority);const position=calculateTaskPosition(task,totalDays);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex border-b border-gray-200 hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-80 flex-shrink-0 px-6 py-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900\",children:task.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium \".concat(statusOption===null||statusOption===void 0?void 0:statusOption.color),children:statusOption===null||statusOption===void 0?void 0:statusOption.label}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium \".concat(priorityOption===null||priorityOption===void 0?void 0:priorityOption.color),children:priorityOption===null||priorityOption===void 0?void 0:priorityOption.label})]}),task.progress>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 text-xs text-gray-500\",children:[task.progress,\"% complete\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>editTask(task),className:\"text-blue-600 hover:text-blue-800 text-sm\",\"data-testid\":\"edit-task-\".concat(task.id),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteTask(task.id),className:\"text-red-600 hover:text-red-800 text-sm\",\"data-testid\":\"delete-task-\".concat(task.id),children:\"Delete\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 relative py-3\",style:{minHeight:'40px'},children:position&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1/2 transform -translate-y-1/2 h-6 rounded \".concat(task.status==='completed'?'bg-green-500':task.status==='in_progress'?'bg-blue-500':task.status==='on_hold'?'bg-yellow-500':'bg-gray-400'),style:{left:\"\".concat(position.left,\"%\"),width:\"\".concat(position.width,\"%\"),minWidth:'20px'},title:\"\".concat(task.name,\": \").concat(task.start_date?new Date(task.start_date).toLocaleDateString():'No start',\" - \").concat(task.end_date?new Date(task.end_date).toLocaleDateString():'No end'),children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium text-white truncate px-1\",children:task.progress>0?\"\".concat(task.progress,\"%\"):''})})})})]},task.id);}),tasks.length===0&&milestones.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center py-12 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(CalendarIcon,{className:\"mx-auto h-12 w-12 text-gray-400\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900\",children:\"No timeline data\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:\"Get started by creating tasks and milestones.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowTaskForm(true),className:\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700\",children:\"Add Task\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowMilestoneForm(true),className:\"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\",children:\"Add Milestone\"})]})]})})]})})]}),showTaskForm&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:p-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75\",onClick:resetTaskForm}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative inline-block w-full max-w-2xl p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:editingTask?'Edit Task':'Create New Task'}),/*#__PURE__*/_jsx(\"button\",{onClick:resetTaskForm,className:\"text-gray-400 hover:text-gray-500\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleTaskSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Task Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:taskFormData.name,onChange:e=>setTaskFormData(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",placeholder:\"Enter task name\",required:true,\"data-testid\":\"task-name-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:taskFormData.description,onChange:e=>setTaskFormData(prev=>_objectSpread(_objectSpread({},prev),{},{description:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",placeholder:\"Task description\",rows:3,\"data-testid\":\"task-description-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Start Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:taskFormData.start_date,onChange:e=>setTaskFormData(prev=>_objectSpread(_objectSpread({},prev),{},{start_date:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",\"data-testid\":\"task-start-date-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"End Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:taskFormData.end_date,onChange:e=>setTaskFormData(prev=>_objectSpread(_objectSpread({},prev),{},{end_date:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",\"data-testid\":\"task-end-date-input\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Status\"}),/*#__PURE__*/_jsx(\"select\",{value:taskFormData.status,onChange:e=>setTaskFormData(prev=>_objectSpread(_objectSpread({},prev),{},{status:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",\"data-testid\":\"task-status-select\",children:statusOptions.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label},option.value))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Priority\"}),/*#__PURE__*/_jsx(\"select\",{value:taskFormData.priority,onChange:e=>setTaskFormData(prev=>_objectSpread(_objectSpread({},prev),{},{priority:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",\"data-testid\":\"task-priority-select\",children:priorityOptions.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label},option.value))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Progress (%)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",max:\"100\",value:taskFormData.progress,onChange:e=>setTaskFormData(prev=>_objectSpread(_objectSpread({},prev),{},{progress:parseInt(e.target.value)||0})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",\"data-testid\":\"task-progress-input\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Assigned To\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:taskFormData.assigned_to,onChange:e=>setTaskFormData(prev=>_objectSpread(_objectSpread({},prev),{},{assigned_to:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",placeholder:\"Team member name\",\"data-testid\":\"task-assigned-to-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Estimated Hours\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",step:\"0.5\",value:taskFormData.estimated_hours,onChange:e=>setTaskFormData(prev=>_objectSpread(_objectSpread({},prev),{},{estimated_hours:parseFloat(e.target.value)||0})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",\"data-testid\":\"task-estimated-hours-input\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-4 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:resetTaskForm,className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700\",\"data-testid\":\"save-task-btn\",children:editingTask?'Update Task':'Create Task'})]})]})]})]})}),showMilestoneForm&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:p-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75\",onClick:resetMilestoneForm}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative inline-block w-full max-w-lg p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:editingMilestone?'Edit Milestone':'Create New Milestone'}),/*#__PURE__*/_jsx(\"button\",{onClick:resetMilestoneForm,className:\"text-gray-400 hover:text-gray-500\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleMilestoneSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Milestone Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:milestoneFormData.name,onChange:e=>setMilestoneFormData(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",placeholder:\"Enter milestone name\",required:true,\"data-testid\":\"milestone-name-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:milestoneFormData.description,onChange:e=>setMilestoneFormData(prev=>_objectSpread(_objectSpread({},prev),{},{description:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",placeholder:\"Milestone description\",rows:3,\"data-testid\":\"milestone-description-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Due Date *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:milestoneFormData.due_date,onChange:e=>setMilestoneFormData(prev=>_objectSpread(_objectSpread({},prev),{},{due_date:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",required:true,\"data-testid\":\"milestone-due-date-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Type\"}),/*#__PURE__*/_jsx(\"select\",{value:milestoneFormData.type,onChange:e=>setMilestoneFormData(prev=>_objectSpread(_objectSpread({},prev),{},{type:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",\"data-testid\":\"milestone-type-select\",children:milestoneTypes.map(type=>/*#__PURE__*/_jsxs(\"option\",{value:type.value,children:[type.icon,\" \",type.label]},type.value))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-4 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:resetMilestoneForm,className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700\",\"data-testid\":\"save-milestone-btn\",children:editingMilestone?'Update Milestone':'Create Milestone'})]})]})]})]})})]});};export default TimelineGantt;","map":{"version":3,"names":["React","useState","useEffect","useRef","useAuth","toast","PlusIcon","CalendarIcon","ClockIcon","ArrowRightIcon","FlagIcon","ChartBarIcon","AdjustmentsHorizontalIcon","jsx","_jsx","jsxs","_jsxs","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","TimelineGantt","_ref","projectId","user","token","tasks","setTasks","milestones","setMilestones","loading","setLoading","showTaskForm","setShowTaskForm","showMilestoneForm","setShowMilestoneForm","editingTask","setEditingTask","editingMilestone","setEditingMilestone","viewRange","setViewRange","currentDate","setCurrentDate","Date","taskFormData","setTaskFormData","name","description","start_date","end_date","assigned_to","status","progress","dependencies","priority","estimated_hours","milestoneFormData","setMilestoneFormData","due_date","type","statusOptions","value","label","color","priorityOptions","milestoneTypes","icon","fetchTimelineData","tasksResponse","fetch","concat","headers","ok","tasksData","json","milestonesResponse","milestonesData","error","console","handleTaskSubmit","e","preventDefault","url","id","method","payload","_objectSpread","project_id","response","body","JSON","stringify","success","resetTaskForm","handleMilestoneSubmit","resetMilestoneForm","handleDeleteTask","taskId","window","confirm","handleDeleteMilestone","milestoneId","editTask","task","split","editMilestone","milestone","getTimelineRange","now","startDate","endDate","getFullYear","getMonth","quarter","Math","floor","generateTimelineColumns","columns","current","push","date","toLocaleDateString","month","day","setDate","getDate","setMonth","calculateTaskPosition","totalDays","taskStart","taskEnd","startOffset","max","duration","leftPercentage","widthPercentage","left","width","min","calculateMilestonePosition","milestoneDate","offset","timelineColumns","length","className","children","onChange","target","onClick","filter","t","map","col","index","style","minWidth","minHeight","_milestoneTypes$find","position","title","find","statusOption","s","priorityOption","p","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","onSubmit","prev","placeholder","required","rows","option","parseInt","step","parseFloat"],"sources":["/app/frontend/src/components/planning/TimelineGantt.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useAuth } from '../../context/AuthContext';\nimport toast from 'react-hot-toast';\nimport { \n  PlusIcon, \n  CalendarIcon,\n  ClockIcon,\n  ArrowRightIcon,\n  FlagIcon,\n  ChartBarIcon,\n  AdjustmentsHorizontalIcon\n} from '@heroicons/react/24/outline';\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\n\nconst TimelineGantt = ({ projectId }) => {\n  const { user, token } = useAuth();\n  const [tasks, setTasks] = useState([]);\n  const [milestones, setMilestones] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [showTaskForm, setShowTaskForm] = useState(false);\n  const [showMilestoneForm, setShowMilestoneForm] = useState(false);\n  const [editingTask, setEditingTask] = useState(null);\n  const [editingMilestone, setEditingMilestone] = useState(null);\n  const [viewRange, setViewRange] = useState('month'); // month, quarter, year\n  const [currentDate, setCurrentDate] = useState(new Date());\n  \n  const [taskFormData, setTaskFormData] = useState({\n    name: '',\n    description: '',\n    start_date: '',\n    end_date: '',\n    assigned_to: '',\n    status: 'not_started',\n    progress: 0,\n    dependencies: [],\n    priority: 'medium',\n    estimated_hours: 0\n  });\n\n  const [milestoneFormData, setMilestoneFormData] = useState({\n    name: '',\n    description: '',\n    due_date: '',\n    type: 'deliverable', // deliverable, checkpoint, deadline\n    status: 'pending'\n  });\n\n  const statusOptions = [\n    { value: 'not_started', label: 'Not Started', color: 'bg-gray-100 text-gray-800' },\n    { value: 'in_progress', label: 'In Progress', color: 'bg-blue-100 text-blue-800' },\n    { value: 'completed', label: 'Completed', color: 'bg-green-100 text-green-800' },\n    { value: 'on_hold', label: 'On Hold', color: 'bg-yellow-100 text-yellow-800' },\n    { value: 'cancelled', label: 'Cancelled', color: 'bg-red-100 text-red-800' }\n  ];\n\n  const priorityOptions = [\n    { value: 'low', label: 'Low', color: 'bg-green-100 text-green-800' },\n    { value: 'medium', label: 'Medium', color: 'bg-yellow-100 text-yellow-800' },\n    { value: 'high', label: 'High', color: 'bg-red-100 text-red-800' },\n    { value: 'critical', label: 'Critical', color: 'bg-purple-100 text-purple-800' }\n  ];\n\n  const milestoneTypes = [\n    { value: 'deliverable', label: 'Deliverable', icon: '📦' },\n    { value: 'checkpoint', label: 'Checkpoint', icon: '🎯' },\n    { value: 'deadline', label: 'Deadline', icon: '⏰' }\n  ];\n\n  useEffect(() => {\n    if (projectId) {\n      fetchTimelineData();\n    }\n  }, [projectId]);\n\n  const fetchTimelineData = async () => {\n    setLoading(true);\n    try {\n      // Fetch tasks\n      const tasksResponse = await fetch(`${BACKEND_URL}/api/projects/${projectId}/timeline/tasks`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      if (tasksResponse.ok) {\n        const tasksData = await tasksResponse.json();\n        setTasks(tasksData);\n      }\n\n      // Fetch milestones\n      const milestonesResponse = await fetch(`${BACKEND_URL}/api/projects/${projectId}/timeline/milestones`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      if (milestonesResponse.ok) {\n        const milestonesData = await milestonesResponse.json();\n        setMilestones(milestonesData);\n      }\n    } catch (error) {\n      console.error('Error fetching timeline data:', error);\n      toast.error('Failed to load timeline data');\n    }\n    setLoading(false);\n  };\n\n  const handleTaskSubmit = async (e) => {\n    e.preventDefault();\n    \n    try {\n      const url = editingTask \n        ? `${BACKEND_URL}/api/projects/${projectId}/timeline/tasks/${editingTask.id}`\n        : `${BACKEND_URL}/api/projects/${projectId}/timeline/tasks`;\n      \n      const method = editingTask ? 'PUT' : 'POST';\n      const payload = {\n        ...taskFormData,\n        project_id: projectId,\n        start_date: taskFormData.start_date || null,\n        end_date: taskFormData.end_date || null\n      };\n\n      const response = await fetch(url, {\n        method,\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify(payload)\n      });\n\n      if (response.ok) {\n        toast.success(editingTask ? 'Task updated!' : 'Task created!');\n        fetchTimelineData();\n        resetTaskForm();\n      } else {\n        toast.error('Failed to save task');\n      }\n    } catch (error) {\n      console.error('Error saving task:', error);\n      toast.error('Failed to save task');\n    }\n  };\n\n  const handleMilestoneSubmit = async (e) => {\n    e.preventDefault();\n    \n    try {\n      const url = editingMilestone \n        ? `${BACKEND_URL}/api/projects/${projectId}/timeline/milestones/${editingMilestone.id}`\n        : `${BACKEND_URL}/api/projects/${projectId}/timeline/milestones`;\n      \n      const method = editingMilestone ? 'PUT' : 'POST';\n      const payload = {\n        ...milestoneFormData,\n        project_id: projectId\n      };\n\n      const response = await fetch(url, {\n        method,\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify(payload)\n      });\n\n      if (response.ok) {\n        toast.success(editingMilestone ? 'Milestone updated!' : 'Milestone created!');\n        fetchTimelineData();\n        resetMilestoneForm();\n      } else {\n        toast.error('Failed to save milestone');\n      }\n    } catch (error) {\n      console.error('Error saving milestone:', error);\n      toast.error('Failed to save milestone');\n    }\n  };\n\n  const handleDeleteTask = async (taskId) => {\n    if (!window.confirm('Are you sure you want to delete this task?')) return;\n    \n    try {\n      const response = await fetch(`${BACKEND_URL}/api/projects/${projectId}/timeline/tasks/${taskId}`, {\n        method: 'DELETE',\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (response.ok) {\n        toast.success('Task deleted!');\n        fetchTimelineData();\n      } else {\n        toast.error('Failed to delete task');\n      }\n    } catch (error) {\n      console.error('Error deleting task:', error);\n      toast.error('Failed to delete task');\n    }\n  };\n\n  const handleDeleteMilestone = async (milestoneId) => {\n    if (!window.confirm('Are you sure you want to delete this milestone?')) return;\n    \n    try {\n      const response = await fetch(`${BACKEND_URL}/api/projects/${projectId}/timeline/milestones/${milestoneId}`, {\n        method: 'DELETE',\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (response.ok) {\n        toast.success('Milestone deleted!');\n        fetchTimelineData();\n      } else {\n        toast.error('Failed to delete milestone');\n      }\n    } catch (error) {\n      console.error('Error deleting milestone:', error);\n      toast.error('Failed to delete milestone');\n    }\n  };\n\n  const resetTaskForm = () => {\n    setTaskFormData({\n      name: '',\n      description: '',\n      start_date: '',\n      end_date: '',\n      assigned_to: '',\n      status: 'not_started',\n      progress: 0,\n      dependencies: [],\n      priority: 'medium',\n      estimated_hours: 0\n    });\n    setEditingTask(null);\n    setShowTaskForm(false);\n  };\n\n  const resetMilestoneForm = () => {\n    setMilestoneFormData({\n      name: '',\n      description: '',\n      due_date: '',\n      type: 'deliverable',\n      status: 'pending'\n    });\n    setEditingMilestone(null);\n    setShowMilestoneForm(false);\n  };\n\n  const editTask = (task) => {\n    setTaskFormData({\n      name: task.name,\n      description: task.description || '',\n      start_date: task.start_date ? task.start_date.split('T')[0] : '',\n      end_date: task.end_date ? task.end_date.split('T')[0] : '',\n      assigned_to: task.assigned_to || '',\n      status: task.status,\n      progress: task.progress || 0,\n      dependencies: task.dependencies || [],\n      priority: task.priority || 'medium',\n      estimated_hours: task.estimated_hours || 0\n    });\n    setEditingTask(task);\n    setShowTaskForm(true);\n  };\n\n  const editMilestone = (milestone) => {\n    setMilestoneFormData({\n      name: milestone.name,\n      description: milestone.description || '',\n      due_date: milestone.due_date ? milestone.due_date.split('T')[0] : '',\n      type: milestone.type || 'deliverable',\n      status: milestone.status || 'pending'\n    });\n    setEditingMilestone(milestone);\n    setShowMilestoneForm(true);\n  };\n\n  // Gantt Chart Helper Functions\n  const getTimelineRange = () => {\n    const now = new Date();\n    let startDate, endDate;\n    \n    if (viewRange === 'month') {\n      startDate = new Date(now.getFullYear(), now.getMonth() - 1, 1);\n      endDate = new Date(now.getFullYear(), now.getMonth() + 2, 0);\n    } else if (viewRange === 'quarter') {\n      const quarter = Math.floor(now.getMonth() / 3);\n      startDate = new Date(now.getFullYear(), quarter * 3 - 3, 1);\n      endDate = new Date(now.getFullYear(), (quarter + 1) * 3, 0);\n    } else { // year\n      startDate = new Date(now.getFullYear(), 0, 1);\n      endDate = new Date(now.getFullYear() + 1, 0, 0);\n    }\n    \n    return { startDate, endDate };\n  };\n\n  const generateTimelineColumns = () => {\n    const { startDate, endDate } = getTimelineRange();\n    const columns = [];\n    const current = new Date(startDate);\n    \n    while (current <= endDate) {\n      if (viewRange === 'month') {\n        columns.push({\n          date: new Date(current),\n          label: current.toLocaleDateString('en-US', { month: 'short', day: 'numeric' })\n        });\n        current.setDate(current.getDate() + 1);\n      } else if (viewRange === 'quarter') {\n        columns.push({\n          date: new Date(current),\n          label: current.toLocaleDateString('en-US', { month: 'short' })\n        });\n        current.setMonth(current.getMonth() + 1);\n      } else {\n        columns.push({\n          date: new Date(current),\n          label: current.toLocaleDateString('en-US', { month: 'short' })\n        });\n        current.setMonth(current.getMonth() + 1);\n      }\n    }\n    \n    return columns;\n  };\n\n  const calculateTaskPosition = (task, totalDays) => {\n    if (!task.start_date || !task.end_date) return null;\n    \n    const { startDate } = getTimelineRange();\n    const taskStart = new Date(task.start_date);\n    const taskEnd = new Date(task.end_date);\n    \n    const startOffset = Math.max(0, (taskStart - startDate) / (1000 * 60 * 60 * 24));\n    const duration = Math.max(1, (taskEnd - taskStart) / (1000 * 60 * 60 * 24) + 1);\n    \n    const leftPercentage = (startOffset / totalDays) * 100;\n    const widthPercentage = (duration / totalDays) * 100;\n    \n    return { left: leftPercentage, width: Math.min(widthPercentage, 100 - leftPercentage) };\n  };\n\n  const calculateMilestonePosition = (milestone, totalDays) => {\n    if (!milestone.due_date) return null;\n    \n    const { startDate } = getTimelineRange();\n    const milestoneDate = new Date(milestone.due_date);\n    \n    const offset = Math.max(0, (milestoneDate - startDate) / (1000 * 60 * 60 * 24));\n    const leftPercentage = (offset / totalDays) * 100;\n    \n    return leftPercentage <= 100 ? { left: leftPercentage } : null;\n  };\n\n  const timelineColumns = generateTimelineColumns();\n  const totalDays = timelineColumns.length;\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\" data-testid=\"timeline-gantt\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-xl font-semibold text-gray-900\">Timeline & Gantt Chart</h2>\n          <p className=\"mt-1 text-sm text-gray-600\">\n            Visual project timeline with tasks, dependencies, and milestones\n          </p>\n        </div>\n        <div className=\"flex items-center space-x-3\">\n          {/* View Range Selector */}\n          <select\n            value={viewRange}\n            onChange={(e) => setViewRange(e.target.value)}\n            className=\"px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500\"\n            data-testid=\"view-range-selector\"\n          >\n            <option value=\"month\">Monthly View</option>\n            <option value=\"quarter\">Quarterly View</option>\n            <option value=\"year\">Yearly View</option>\n          </select>\n          \n          <button\n            onClick={() => setShowMilestoneForm(true)}\n            className=\"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\"\n            data-testid=\"add-milestone-btn\"\n          >\n            <FlagIcon className=\"h-4 w-4 mr-2\" />\n            Add Milestone\n          </button>\n          \n          <button\n            onClick={() => setShowTaskForm(true)}\n            className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700\"\n            data-testid=\"add-task-btn\"\n          >\n            <PlusIcon className=\"h-4 w-4 mr-2\" />\n            Add Task\n          </button>\n        </div>\n      </div>\n\n      {/* Timeline Summary */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <div className=\"bg-blue-50 rounded-lg p-4\">\n          <div className=\"flex items-center\">\n            <ChartBarIcon className=\"h-8 w-8 text-blue-600\" />\n            <div className=\"ml-3\">\n              <p className=\"text-sm font-medium text-blue-900\">Total Tasks</p>\n              <p className=\"text-2xl font-bold text-blue-600\">{tasks.length}</p>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-green-50 rounded-lg p-4\">\n          <div className=\"flex items-center\">\n            <ClockIcon className=\"h-8 w-8 text-green-600\" />\n            <div className=\"ml-3\">\n              <p className=\"text-sm font-medium text-green-900\">Completed</p>\n              <p className=\"text-2xl font-bold text-green-600\">\n                {tasks.filter(t => t.status === 'completed').length}\n              </p>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-yellow-50 rounded-lg p-4\">\n          <div className=\"flex items-center\">\n            <AdjustmentsHorizontalIcon className=\"h-8 w-8 text-yellow-600\" />\n            <div className=\"ml-3\">\n              <p className=\"text-sm font-medium text-yellow-900\">In Progress</p>\n              <p className=\"text-2xl font-bold text-yellow-600\">\n                {tasks.filter(t => t.status === 'in_progress').length}\n              </p>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-purple-50 rounded-lg p-4\">\n          <div className=\"flex items-center\">\n            <FlagIcon className=\"h-8 w-8 text-purple-600\" />\n            <div className=\"ml-3\">\n              <p className=\"text-sm font-medium text-purple-900\">Milestones</p>\n              <p className=\"text-2xl font-bold text-purple-600\">{milestones.length}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Gantt Chart */}\n      <div className=\"bg-white shadow rounded-lg overflow-hidden\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h3 className=\"text-lg font-medium text-gray-900\">Gantt Chart</h3>\n        </div>\n        \n        <div className=\"overflow-x-auto\">\n          <div className=\"inline-block min-w-full\">\n            {/* Timeline Header */}\n            <div className=\"flex border-b border-gray-200\">\n              <div className=\"w-80 flex-shrink-0 px-6 py-3 bg-gray-50 font-medium text-gray-900\">\n                Task / Milestone\n              </div>\n              <div className=\"flex-1 flex\">\n                {timelineColumns.map((col, index) => (\n                  <div\n                    key={index}\n                    className=\"flex-1 px-2 py-3 bg-gray-50 border-l border-gray-200 text-center text-xs font-medium text-gray-500\"\n                    style={{ minWidth: '40px' }}\n                  >\n                    {col.label}\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Milestones Row */}\n            <div className=\"flex border-b border-gray-200 bg-purple-25\">\n              <div className=\"w-80 flex-shrink-0 px-6 py-3 font-medium text-purple-900\">\n                🏁 Milestones\n              </div>\n              <div className=\"flex-1 relative py-3\" style={{ minHeight: '40px' }}>\n                {milestones.map((milestone) => {\n                  const position = calculateMilestonePosition(milestone, totalDays);\n                  if (!position) return null;\n                  \n                  return (\n                    <div\n                      key={milestone.id}\n                      className=\"absolute top-1/2 transform -translate-y-1/2 -translate-x-1/2\"\n                      style={{ left: `${position.left}%` }}\n                      title={`${milestone.name} - ${new Date(milestone.due_date).toLocaleDateString()}`}\n                    >\n                      <div className=\"w-0 h-0 border-l-8 border-r-8 border-b-8 border-l-transparent border-r-transparent border-b-purple-600\"></div>\n                      <div className=\"absolute top-2 left-1/2 transform -translate-x-1/2 text-xs font-medium text-purple-600 whitespace-nowrap\">\n                        {milestoneTypes.find(t => t.value === milestone.type)?.icon || '🎯'}\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n\n            {/* Tasks */}\n            {tasks.map((task) => {\n              const statusOption = statusOptions.find(s => s.value === task.status);\n              const priorityOption = priorityOptions.find(p => p.value === task.priority);\n              const position = calculateTaskPosition(task, totalDays);\n              \n              return (\n                <div key={task.id} className=\"flex border-b border-gray-200 hover:bg-gray-50\">\n                  <div className=\"w-80 flex-shrink-0 px-6 py-3\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <h4 className=\"font-medium text-gray-900\">{task.name}</h4>\n                        <div className=\"flex items-center space-x-2 mt-1\">\n                          <span className={`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${statusOption?.color}`}>\n                            {statusOption?.label}\n                          </span>\n                          <span className={`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${priorityOption?.color}`}>\n                            {priorityOption?.label}\n                          </span>\n                        </div>\n                        {task.progress > 0 && (\n                          <div className=\"mt-1 text-xs text-gray-500\">{task.progress}% complete</div>\n                        )}\n                      </div>\n                      <div className=\"flex items-center space-x-1\">\n                        <button\n                          onClick={() => editTask(task)}\n                          className=\"text-blue-600 hover:text-blue-800 text-sm\"\n                          data-testid={`edit-task-${task.id}`}\n                        >\n                          Edit\n                        </button>\n                        <button\n                          onClick={() => handleDeleteTask(task.id)}\n                          className=\"text-red-600 hover:text-red-800 text-sm\"\n                          data-testid={`delete-task-${task.id}`}\n                        >\n                          Delete\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"flex-1 relative py-3\" style={{ minHeight: '40px' }}>\n                    {position && (\n                      <div\n                        className={`absolute top-1/2 transform -translate-y-1/2 h-6 rounded ${\n                          task.status === 'completed' ? 'bg-green-500' :\n                          task.status === 'in_progress' ? 'bg-blue-500' :\n                          task.status === 'on_hold' ? 'bg-yellow-500' : 'bg-gray-400'\n                        }`}\n                        style={{\n                          left: `${position.left}%`,\n                          width: `${position.width}%`,\n                          minWidth: '20px'\n                        }}\n                        title={`${task.name}: ${task.start_date ? new Date(task.start_date).toLocaleDateString() : 'No start'} - ${task.end_date ? new Date(task.end_date).toLocaleDateString() : 'No end'}`}\n                      >\n                        <div className=\"h-full flex items-center justify-center\">\n                          <span className=\"text-xs font-medium text-white truncate px-1\">\n                            {task.progress > 0 ? `${task.progress}%` : ''}\n                          </span>\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              );\n            })}\n\n            {/* Empty State */}\n            {tasks.length === 0 && milestones.length === 0 && (\n              <div className=\"flex items-center justify-center py-12 border-b border-gray-200\">\n                <div className=\"text-center\">\n                  <CalendarIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n                  <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No timeline data</h3>\n                  <p className=\"mt-1 text-sm text-gray-500\">\n                    Get started by creating tasks and milestones.\n                  </p>\n                  <div className=\"mt-4 space-x-3\">\n                    <button\n                      onClick={() => setShowTaskForm(true)}\n                      className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700\"\n                    >\n                      Add Task\n                    </button>\n                    <button\n                      onClick={() => setShowMilestoneForm(true)}\n                      className=\"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\"\n                    >\n                      Add Milestone\n                    </button>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Task Form Modal */}\n      {showTaskForm && (\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\n          <div className=\"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:p-0\">\n            <div className=\"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75\" onClick={resetTaskForm}></div>\n            \n            <div className=\"relative inline-block w-full max-w-2xl p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-medium text-gray-900\">\n                  {editingTask ? 'Edit Task' : 'Create New Task'}\n                </h3>\n                <button onClick={resetTaskForm} className=\"text-gray-400 hover:text-gray-500\">\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n\n              <form onSubmit={handleTaskSubmit} className=\"space-y-4\">\n                <div className=\"grid grid-cols-1 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Task Name *</label>\n                    <input\n                      type=\"text\"\n                      value={taskFormData.name}\n                      onChange={(e) => setTaskFormData(prev => ({ ...prev, name: e.target.value }))}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                      placeholder=\"Enter task name\"\n                      required\n                      data-testid=\"task-name-input\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\n                    <textarea\n                      value={taskFormData.description}\n                      onChange={(e) => setTaskFormData(prev => ({ ...prev, description: e.target.value }))}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                      placeholder=\"Task description\"\n                      rows={3}\n                      data-testid=\"task-description-input\"\n                    />\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Start Date</label>\n                      <input\n                        type=\"date\"\n                        value={taskFormData.start_date}\n                        onChange={(e) => setTaskFormData(prev => ({ ...prev, start_date: e.target.value }))}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                        data-testid=\"task-start-date-input\"\n                      />\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">End Date</label>\n                      <input\n                        type=\"date\"\n                        value={taskFormData.end_date}\n                        onChange={(e) => setTaskFormData(prev => ({ ...prev, end_date: e.target.value }))}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                        data-testid=\"task-end-date-input\"\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Status</label>\n                      <select\n                        value={taskFormData.status}\n                        onChange={(e) => setTaskFormData(prev => ({ ...prev, status: e.target.value }))}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                        data-testid=\"task-status-select\"\n                      >\n                        {statusOptions.map(option => (\n                          <option key={option.value} value={option.value}>{option.label}</option>\n                        ))}\n                      </select>\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Priority</label>\n                      <select\n                        value={taskFormData.priority}\n                        onChange={(e) => setTaskFormData(prev => ({ ...prev, priority: e.target.value }))}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                        data-testid=\"task-priority-select\"\n                      >\n                        {priorityOptions.map(option => (\n                          <option key={option.value} value={option.value}>{option.label}</option>\n                        ))}\n                      </select>\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Progress (%)</label>\n                      <input\n                        type=\"number\"\n                        min=\"0\"\n                        max=\"100\"\n                        value={taskFormData.progress}\n                        onChange={(e) => setTaskFormData(prev => ({ ...prev, progress: parseInt(e.target.value) || 0 }))}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                        data-testid=\"task-progress-input\"\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Assigned To</label>\n                      <input\n                        type=\"text\"\n                        value={taskFormData.assigned_to}\n                        onChange={(e) => setTaskFormData(prev => ({ ...prev, assigned_to: e.target.value }))}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                        placeholder=\"Team member name\"\n                        data-testid=\"task-assigned-to-input\"\n                      />\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Estimated Hours</label>\n                      <input\n                        type=\"number\"\n                        min=\"0\"\n                        step=\"0.5\"\n                        value={taskFormData.estimated_hours}\n                        onChange={(e) => setTaskFormData(prev => ({ ...prev, estimated_hours: parseFloat(e.target.value) || 0 }))}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                        data-testid=\"task-estimated-hours-input\"\n                      />\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"flex justify-end space-x-3 pt-4 border-t border-gray-200\">\n                  <button\n                    type=\"button\"\n                    onClick={resetTaskForm}\n                    className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    type=\"submit\"\n                    className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700\"\n                    data-testid=\"save-task-btn\"\n                  >\n                    {editingTask ? 'Update Task' : 'Create Task'}\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Milestone Form Modal */}\n      {showMilestoneForm && (\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\n          <div className=\"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:p-0\">\n            <div className=\"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75\" onClick={resetMilestoneForm}></div>\n            \n            <div className=\"relative inline-block w-full max-w-lg p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-medium text-gray-900\">\n                  {editingMilestone ? 'Edit Milestone' : 'Create New Milestone'}\n                </h3>\n                <button onClick={resetMilestoneForm} className=\"text-gray-400 hover:text-gray-500\">\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n\n              <form onSubmit={handleMilestoneSubmit} className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Milestone Name *</label>\n                  <input\n                    type=\"text\"\n                    value={milestoneFormData.name}\n                    onChange={(e) => setMilestoneFormData(prev => ({ ...prev, name: e.target.value }))}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"Enter milestone name\"\n                    required\n                    data-testid=\"milestone-name-input\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\n                  <textarea\n                    value={milestoneFormData.description}\n                    onChange={(e) => setMilestoneFormData(prev => ({ ...prev, description: e.target.value }))}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"Milestone description\"\n                    rows={3}\n                    data-testid=\"milestone-description-input\"\n                  />\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Due Date *</label>\n                    <input\n                      type=\"date\"\n                      value={milestoneFormData.due_date}\n                      onChange={(e) => setMilestoneFormData(prev => ({ ...prev, due_date: e.target.value }))}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                      required\n                      data-testid=\"milestone-due-date-input\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Type</label>\n                    <select\n                      value={milestoneFormData.type}\n                      onChange={(e) => setMilestoneFormData(prev => ({ ...prev, type: e.target.value }))}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                      data-testid=\"milestone-type-select\"\n                    >\n                      {milestoneTypes.map(type => (\n                        <option key={type.value} value={type.value}>\n                          {type.icon} {type.label}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                </div>\n\n                <div className=\"flex justify-end space-x-3 pt-4 border-t border-gray-200\">\n                  <button\n                    type=\"button\"\n                    onClick={resetMilestoneForm}\n                    className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    type=\"submit\"\n                    className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700\"\n                    data-testid=\"save-milestone-btn\"\n                  >\n                    {editingMilestone ? 'Update Milestone' : 'Create Milestone'}\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TimelineGantt;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}