{"ast":null,"code":"import React,{useState}from'react';import{useAuth}from'../../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Navbar(_ref){var _user$full_name;let{setSidebarOpen}=_ref;const{user,logout}=useAuth();const[showUserMenu,setShowUserMenu]=useState(false);const getRoleColor=role=>{const colors={'project_manager':'bg-blue-100 text-blue-800','executive':'bg-purple-100 text-purple-800','team_member':'bg-green-100 text-green-800','stakeholder':'bg-yellow-100 text-yellow-800'};return colors[role]||'bg-gray-100 text-gray-800';};const formatRole=role=>{return role.split('_').map(word=>word.charAt(0).toUpperCase()+word.slice(1)).join(' ');};return/*#__PURE__*/_jsxs(\"div\",{className:\"relative z-10 flex-shrink-0 flex h-16 bg-white shadow\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"px-4 border-r border-gray-200 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 md:hidden\",onClick:()=>setSidebarOpen(true),\"data-testid\":\"mobile-menu-button\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Open sidebar\"}),/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M4 6h16M4 12h16M4 18h7\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 px-4 flex justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex items-center\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold text-gray-900\",\"data-testid\":\"app-title\",children:\"ProjectHub PMO\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-4 flex items-center md:ml-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3 relative\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"max-w-xs bg-white flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",onClick:()=>setShowUserMenu(!showUserMenu),\"data-testid\":\"user-menu-button\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Open user menu\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-sm font-medium\",children:(user===null||user===void 0?void 0:(_user$full_name=user.full_name)===null||_user$full_name===void 0?void 0:_user$full_name.split(' ').map(n=>n[0]).join('').slice(0,2))||'U'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden md:block text-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:user===null||user===void 0?void 0:user.full_name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium \".concat(getRoleColor(user===null||user===void 0?void 0:user.role)),children:formatRole((user===null||user===void 0?void 0:user.role)||'')}),(user===null||user===void 0?void 0:user.department)&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[\"\\u2022 \",user.department]})]})]}),/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-gray-400\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\",clipRule:\"evenodd\"})})]})]})}),showUserMenu&&/*#__PURE__*/_jsxs(\"div\",{className:\"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-2 text-sm text-gray-500 border-b border-gray-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:user===null||user===void 0?void 0:user.full_name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs\",children:user===null||user===void 0?void 0:user.email})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowUserMenu(false);// Add profile functionality later\n},className:\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\",\"data-testid\":\"profile-menu-item\",children:\"Your Profile\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowUserMenu(false);// Add settings functionality later\n},className:\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\",\"data-testid\":\"settings-menu-item\",children:\"Settings\"}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-100\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowUserMenu(false);logout();},className:\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\",\"data-testid\":\"logout-menu-item\",children:\"Sign out\"})})]})]})})]})]});}","map":{"version":3,"names":["React","useState","useAuth","jsx","_jsx","jsxs","_jsxs","Navbar","_ref","_user$full_name","setSidebarOpen","user","logout","showUserMenu","setShowUserMenu","getRoleColor","role","colors","formatRole","split","map","word","charAt","toUpperCase","slice","join","className","children","type","onClick","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","full_name","n","concat","department","fillRule","clipRule","email"],"sources":["/app/frontend/src/components/layout/Navbar.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useAuth } from '../../context/AuthContext';\n\nexport default function Navbar({ setSidebarOpen }) {\n  const { user, logout } = useAuth();\n  const [showUserMenu, setShowUserMenu] = useState(false);\n\n  const getRoleColor = (role) => {\n    const colors = {\n      'project_manager': 'bg-blue-100 text-blue-800',\n      'executive': 'bg-purple-100 text-purple-800',\n      'team_member': 'bg-green-100 text-green-800',\n      'stakeholder': 'bg-yellow-100 text-yellow-800',\n    };\n    return colors[role] || 'bg-gray-100 text-gray-800';\n  };\n\n  const formatRole = (role) => {\n    return role.split('_').map(word => \n      word.charAt(0).toUpperCase() + word.slice(1)\n    ).join(' ');\n  };\n\n  return (\n    <div className=\"relative z-10 flex-shrink-0 flex h-16 bg-white shadow\">\n      <button\n        type=\"button\"\n        className=\"px-4 border-r border-gray-200 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 md:hidden\"\n        onClick={() => setSidebarOpen(true)}\n        data-testid=\"mobile-menu-button\"\n      >\n        <span className=\"sr-only\">Open sidebar</span>\n        <svg\n          className=\"h-6 w-6\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n          aria-hidden=\"true\"\n        >\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h7\" />\n        </svg>\n      </button>\n      \n      <div className=\"flex-1 px-4 flex justify-between\">\n        <div className=\"flex-1 flex items-center\">\n          <h1 className=\"text-xl font-semibold text-gray-900\" data-testid=\"app-title\">\n            ProjectHub PMO\n          </h1>\n        </div>\n        \n        <div className=\"ml-4 flex items-center md:ml-6\">\n          {/* User menu */}\n          <div className=\"ml-3 relative\">\n            <div>\n              <button\n                type=\"button\"\n                className=\"max-w-xs bg-white flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                onClick={() => setShowUserMenu(!showUserMenu)}\n                data-testid=\"user-menu-button\"\n              >\n                <span className=\"sr-only\">Open user menu</span>\n                <div className=\"flex items-center space-x-3\">\n                  <div className=\"h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center\">\n                    <span className=\"text-white text-sm font-medium\">\n                      {user?.full_name?.split(' ').map(n => n[0]).join('').slice(0, 2) || 'U'}\n                    </span>\n                  </div>\n                  <div className=\"hidden md:block text-left\">\n                    <div className=\"text-sm font-medium text-gray-900\">{user?.full_name}</div>\n                    <div className=\"flex items-center space-x-2\">\n                      <span className={`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${getRoleColor(user?.role)}`}>\n                        {formatRole(user?.role || '')}\n                      </span>\n                      {user?.department && (\n                        <span className=\"text-xs text-gray-500\">â€¢ {user.department}</span>\n                      )}\n                    </div>\n                  </div>\n                  <svg className=\"h-5 w-5 text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path fillRule=\"evenodd\" d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\n                  </svg>\n                </div>\n              </button>\n            </div>\n            \n            {showUserMenu && (\n              <div className=\"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none\">\n                <div className=\"px-4 py-2 text-sm text-gray-500 border-b border-gray-100\">\n                  <div className=\"font-medium text-gray-900\">{user?.full_name}</div>\n                  <div className=\"text-xs\">{user?.email}</div>\n                </div>\n                \n                <button\n                  onClick={() => {\n                    setShowUserMenu(false);\n                    // Add profile functionality later\n                  }}\n                  className=\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                  data-testid=\"profile-menu-item\"\n                >\n                  Your Profile\n                </button>\n                \n                <button\n                  onClick={() => {\n                    setShowUserMenu(false);\n                    // Add settings functionality later\n                  }}\n                  className=\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                  data-testid=\"settings-menu-item\"\n                >\n                  Settings\n                </button>\n                \n                <div className=\"border-t border-gray-100\">\n                  <button\n                    onClick={() => {\n                      setShowUserMenu(false);\n                      logout();\n                    }}\n                    className=\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                    data-testid=\"logout-menu-item\"\n                  >\n                    Sign out\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}