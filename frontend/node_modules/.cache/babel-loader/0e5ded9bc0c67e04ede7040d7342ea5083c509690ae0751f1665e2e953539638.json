{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useAuth}from'../../context/AuthContext';import{toast}from'react-hot-toast';// Use the same backend URL logic as AuthContext\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const getBackendURL=()=>{if(process.env.REACT_APP_BACKEND_URL&&process.env.REACT_APP_BACKEND_URL!=='http://localhost:8001'){return process.env.REACT_APP_BACKEND_URL;}if(window.location.hostname!=='localhost'&&window.location.hostname!=='127.0.0.1'){return\"\".concat(window.location.protocol,\"//\").concat(window.location.host);}return'http://localhost:8001';};const BACKEND_URL=getBackendURL();const Templates=()=>{const{user,token}=useAuth();const[templates,setTemplates]=useState([]);const[loading,setLoading]=useState(false);const[selectedType,setSelectedType]=useState('all');const[selectedIndustry,setSelectedIndustry]=useState('all');const[selectedTemplate,setSelectedTemplate]=useState(null);const[showPreview,setShowPreview]=useState(false);const fetchTemplates=React.useCallback(async()=>{if(!token){console.log('âš ï¸ No token available, skipping template fetch');return;}setLoading(true);try{let url=\"\".concat(BACKEND_URL,\"/api/templates\");const params=new URLSearchParams();if(selectedType!=='all'){params.append('template_type',selectedType);}if(selectedIndustry!=='all'){params.append('industry',selectedIndustry);}if(params.toString()){url+=\"?\".concat(params.toString());}console.log('ðŸ”— Fetching templates from:',url);console.log('ðŸ”‘ Using token:',token?'Present':'Missing');const response=await fetch(url,{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});console.log('ðŸ“¥ Templates response status:',response.status);if(response.ok){const data=await response.json();console.log('ðŸ“‹ Templates data received:',data.length,'templates');setTemplates(data);}else{const errorData=await response.json();console.error('âŒ Templates fetch error:',response.status,errorData);// Handle different error types properly\nlet errorMessage='Failed to fetch templates';if(response.status===422&&errorData.detail&&Array.isArray(errorData.detail)){// Parse Pydantic validation errors\nconst validationErrors=errorData.detail.map(err=>{var _err$loc;const field=((_err$loc=err.loc)===null||_err$loc===void 0?void 0:_err$loc.slice(1).join('.'))||'field';return\"\".concat(field,\": \").concat(err.msg);});errorMessage=validationErrors.join(', ');}else if(errorData.detail){errorMessage=typeof errorData.detail==='string'?errorData.detail:'Failed to fetch templates';}toast.error(errorMessage);}}catch(error){var _error$response;console.error('âŒ Error fetching templates:',error);// Handle different error types properly\nlet errorMessage='Error loading templates';if((_error$response=error.response)!==null&&_error$response!==void 0&&_error$response.data){const errorData=error.response.data;if(error.response.status===422&&errorData.detail&&Array.isArray(errorData.detail)){const validationErrors=errorData.detail.map(err=>{var _err$loc2;const field=((_err$loc2=err.loc)===null||_err$loc2===void 0?void 0:_err$loc2.slice(1).join('.'))||'field';return\"\".concat(field,\": \").concat(err.msg);});errorMessage=validationErrors.join(', ');}else if(errorData.detail){errorMessage=typeof errorData.detail==='string'?errorData.detail:'Error loading templates';}}toast.error(errorMessage);}finally{setLoading(false);}},[token,selectedType,selectedIndustry]);useEffect(()=>{fetchTemplates();},[fetchTemplates]);const handleUseTemplate=async templateId=>{try{const response=await fetch(\"\".concat(BACKEND_URL,\"/api/templates/\").concat(templateId,\"/use\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});if(response.ok){toast.success('Template selected! You can now create your document.');// Here you would typically navigate to the creation form with template data\n}else{toast.error('Failed to use template');}}catch(error){console.error('Error using template:',error);toast.error('Failed to use template');}};const previewTemplate=template=>{setSelectedTemplate(template);setShowPreview(true);};const getTemplateTypeLabel=type=>{const labels={'project_charter':'Project Charter','business_case':'Business Case','stakeholder_register':'Stakeholder Register','risk_log':'Risk Log','feasibility_study':'Feasibility Study'};return labels[type]||type;};const getTemplateIcon=type=>{if(type==='project_charter'){return/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-blue-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})});}else if(type==='business_case'){return/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-green-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\"})});}else if(type==='stakeholder_register'){return/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-purple-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"})});}else if(type==='risk_log'){return/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-red-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z\"})});}else if(type==='feasibility_study'){return/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-indigo-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"})});}else{return/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-gray-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",\"data-testid\":\"templates-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"md:flex md:items-center md:justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate\",children:\"Templates Library\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:\"Pre-built templates to accelerate your project documentation\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow rounded-lg p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"template-type\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Template Type\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"template-type\",value:selectedType,onChange:e=>setSelectedType(e.target.value),className:\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\",\"data-testid\":\"template-type-filter\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Types\"}),/*#__PURE__*/_jsx(\"option\",{value:\"project_charter\",children:\"Project Charter\"}),/*#__PURE__*/_jsx(\"option\",{value:\"business_case\",children:\"Business Case\"}),/*#__PURE__*/_jsx(\"option\",{value:\"stakeholder_register\",children:\"Stakeholder Register\"}),/*#__PURE__*/_jsx(\"option\",{value:\"risk_log\",children:\"Risk Log\"}),/*#__PURE__*/_jsx(\"option\",{value:\"feasibility_study\",children:\"Feasibility Study\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"industry\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Industry\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"industry\",value:selectedIndustry,onChange:e=>setSelectedIndustry(e.target.value),className:\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\",\"data-testid\":\"industry-filter\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Industries\"}),/*#__PURE__*/_jsx(\"option\",{value:\"General\",children:\"General\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Technology\",children:\"Technology\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Healthcare\",children:\"Healthcare\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Finance\",children:\"Finance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Manufacturing\",children:\"Manufacturing\"})]})]})]})}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center py-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:templates.map(template=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow rounded-lg p-6 hover:shadow-lg transition-shadow duration-200\",\"data-testid\":\"template-card-\".concat(template.id),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:getTemplateIcon(template.template_type)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 truncate\",children:template.name}),template.is_default&&/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\",children:\"Default\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:template.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 flex flex-wrap gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800\",children:getTemplateTypeLabel(template.template_type)}),template.industry&&/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800\",children:template.industry}),template.project_type&&/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\",children:template.project_type})]}),template.usage_count>0&&/*#__PURE__*/_jsxs(\"p\",{className:\"mt-2 text-xs text-gray-400\",children:[\"Used \",template.usage_count,\" time\",template.usage_count!==1?'s':'']}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>previewTemplate(template),className:\"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"data-testid\":\"preview-template-\".concat(template.id),children:\"Preview\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleUseTemplate(template.id),className:\"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"data-testid\":\"use-template-\".concat(template.id),children:\"Use Template\"})]})]})]})},template.id))}),templates.length===0&&!loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"mx-auto h-12 w-12 text-gray-400\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900\",children:\"No templates found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:\"Try adjusting your filters or check back later.\"})]}),showPreview&&selectedTemplate&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:p-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75\",onClick:()=>setShowPreview(false)}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative inline-block w-full max-w-4xl p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:[\"Template Preview: \",selectedTemplate.name]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPreview(false),className:\"text-gray-400 hover:text-gray-500\",\"data-testid\":\"close-preview-modal\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"max-h-96 overflow-y-auto bg-gray-50 p-4 rounded-md\",children:/*#__PURE__*/_jsx(\"pre\",{className:\"whitespace-pre-wrap text-sm text-gray-700\",children:JSON.stringify(selectedTemplate.template_data,null,2)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPreview(false),className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{handleUseTemplate(selectedTemplate.id);setShowPreview(false);},className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700\",\"data-testid\":\"use-template-from-preview\",children:\"Use This Template\"})]})]})]})})]});};export default Templates;","map":{"version":3,"names":["React","useState","useEffect","useAuth","toast","jsx","_jsx","jsxs","_jsxs","getBackendURL","process","env","REACT_APP_BACKEND_URL","window","location","hostname","concat","protocol","host","BACKEND_URL","Templates","user","token","templates","setTemplates","loading","setLoading","selectedType","setSelectedType","selectedIndustry","setSelectedIndustry","selectedTemplate","setSelectedTemplate","showPreview","setShowPreview","fetchTemplates","useCallback","console","log","url","params","URLSearchParams","append","toString","response","fetch","headers","status","ok","data","json","length","errorData","error","errorMessage","detail","Array","isArray","validationErrors","map","err","_err$loc","field","loc","slice","join","msg","_error$response","_err$loc2","handleUseTemplate","templateId","method","success","previewTemplate","template","getTemplateTypeLabel","type","labels","getTemplateIcon","className","fill","stroke","viewBox","children","strokeLinecap","strokeLinejoin","strokeWidth","d","htmlFor","id","value","onChange","e","target","template_type","name","is_default","description","industry","project_type","usage_count","onClick","JSON","stringify","template_data"],"sources":["/app/frontend/src/components/templates/Templates.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../context/AuthContext';\nimport { toast } from 'react-hot-toast';\n\n// Use the same backend URL logic as AuthContext\nconst getBackendURL = () => {\n  if (process.env.REACT_APP_BACKEND_URL && process.env.REACT_APP_BACKEND_URL !== 'http://localhost:8001') {\n    return process.env.REACT_APP_BACKEND_URL;\n  }\n  \n  if (window.location.hostname !== 'localhost' && window.location.hostname !== '127.0.0.1') {\n    return `${window.location.protocol}//${window.location.host}`;\n  }\n  \n  return 'http://localhost:8001';\n};\n\nconst BACKEND_URL = getBackendURL();\n\nconst Templates = () => {\n  const { user, token } = useAuth();\n  const [templates, setTemplates] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [selectedType, setSelectedType] = useState('all');\n  const [selectedIndustry, setSelectedIndustry] = useState('all');\n  const [selectedTemplate, setSelectedTemplate] = useState(null);\n  const [showPreview, setShowPreview] = useState(false);\n\n  const fetchTemplates = React.useCallback(async () => {\n    if (!token) {\n      console.log('âš ï¸ No token available, skipping template fetch');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      let url = `${BACKEND_URL}/api/templates`;\n      const params = new URLSearchParams();\n      \n      if (selectedType !== 'all') {\n        params.append('template_type', selectedType);\n      }\n      if (selectedIndustry !== 'all') {\n        params.append('industry', selectedIndustry);\n      }\n      \n      if (params.toString()) {\n        url += `?${params.toString()}`;\n      }\n\n      console.log('ðŸ”— Fetching templates from:', url);\n      console.log('ðŸ”‘ Using token:', token ? 'Present' : 'Missing');\n\n      const response = await fetch(url, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      console.log('ðŸ“¥ Templates response status:', response.status);\n\n      if (response.ok) {\n        const data = await response.json();\n        console.log('ðŸ“‹ Templates data received:', data.length, 'templates');\n        setTemplates(data);\n      } else {\n        const errorData = await response.json();\n        console.error('âŒ Templates fetch error:', response.status, errorData);\n        \n        // Handle different error types properly\n        let errorMessage = 'Failed to fetch templates';\n        \n        if (response.status === 422 && errorData.detail && Array.isArray(errorData.detail)) {\n          // Parse Pydantic validation errors\n          const validationErrors = errorData.detail.map(err => {\n            const field = err.loc?.slice(1).join('.') || 'field';\n            return `${field}: ${err.msg}`;\n          });\n          errorMessage = validationErrors.join(', ');\n        } else if (errorData.detail) {\n          errorMessage = typeof errorData.detail === 'string' ? errorData.detail : 'Failed to fetch templates';\n        }\n        \n        toast.error(errorMessage);\n      }\n    } catch (error) {\n      console.error('âŒ Error fetching templates:', error);\n      \n      // Handle different error types properly\n      let errorMessage = 'Error loading templates';\n      \n      if (error.response?.data) {\n        const errorData = error.response.data;\n        if (error.response.status === 422 && errorData.detail && Array.isArray(errorData.detail)) {\n          const validationErrors = errorData.detail.map(err => {\n            const field = err.loc?.slice(1).join('.') || 'field';\n            return `${field}: ${err.msg}`;\n          });\n          errorMessage = validationErrors.join(', ');\n        } else if (errorData.detail) {\n          errorMessage = typeof errorData.detail === 'string' ? errorData.detail : 'Error loading templates';\n        }\n      }\n      \n      toast.error(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  }, [token, selectedType, selectedIndustry]);\n\n  useEffect(() => {\n    fetchTemplates();\n  }, [fetchTemplates]);\n\n  const handleUseTemplate = async (templateId) => {\n    try {\n      const response = await fetch(`${BACKEND_URL}/api/templates/${templateId}/use`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (response.ok) {\n        toast.success('Template selected! You can now create your document.');\n        // Here you would typically navigate to the creation form with template data\n      } else {\n        toast.error('Failed to use template');\n      }\n    } catch (error) {\n      console.error('Error using template:', error);\n      toast.error('Failed to use template');\n    }\n  };\n\n  const previewTemplate = (template) => {\n    setSelectedTemplate(template);\n    setShowPreview(true);\n  };\n\n  const getTemplateTypeLabel = (type) => {\n    const labels = {\n      'project_charter': 'Project Charter',\n      'business_case': 'Business Case',\n      'stakeholder_register': 'Stakeholder Register',\n      'risk_log': 'Risk Log',\n      'feasibility_study': 'Feasibility Study'\n    };\n    return labels[type] || type;\n  };\n\n  const getTemplateIcon = (type) => {\n    if (type === 'project_charter') {\n      return (\n        <svg className=\"w-8 h-8 text-blue-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n        </svg>\n      );\n    } else if (type === 'business_case') {\n      return (\n        <svg className=\"w-8 h-8 text-green-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />\n        </svg>\n      );\n    } else if (type === 'stakeholder_register') {\n      return (\n        <svg className=\"w-8 h-8 text-purple-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n        </svg>\n      );\n    } else if (type === 'risk_log') {\n      return (\n        <svg className=\"w-8 h-8 text-red-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n        </svg>\n      );\n    } else if (type === 'feasibility_study') {\n      return (\n        <svg className=\"w-8 h-8 text-indigo-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n        </svg>\n      );\n    } else {\n      return (\n        <svg className=\"w-8 h-8 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n        </svg>\n      );\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\" data-testid=\"templates-page\">\n      {/* Header */}\n      <div className=\"md:flex md:items-center md:justify-between\">\n        <div className=\"flex-1 min-w-0\">\n          <h2 className=\"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate\">\n            Templates Library\n          </h2>\n          <p className=\"mt-1 text-sm text-gray-500\">\n            Pre-built templates to accelerate your project documentation\n          </p>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <div className=\"bg-white shadow rounded-lg p-6\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div>\n            <label htmlFor=\"template-type\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Template Type\n            </label>\n            <select\n              id=\"template-type\"\n              value={selectedType}\n              onChange={(e) => setSelectedType(e.target.value)}\n              className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n              data-testid=\"template-type-filter\"\n            >\n              <option value=\"all\">All Types</option>\n              <option value=\"project_charter\">Project Charter</option>\n              <option value=\"business_case\">Business Case</option>\n              <option value=\"stakeholder_register\">Stakeholder Register</option>\n              <option value=\"risk_log\">Risk Log</option>\n              <option value=\"feasibility_study\">Feasibility Study</option>\n            </select>\n          </div>\n          \n          <div>\n            <label htmlFor=\"industry\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Industry\n            </label>\n            <select\n              id=\"industry\"\n              value={selectedIndustry}\n              onChange={(e) => setSelectedIndustry(e.target.value)}\n              className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n              data-testid=\"industry-filter\"\n            >\n              <option value=\"all\">All Industries</option>\n              <option value=\"General\">General</option>\n              <option value=\"Technology\">Technology</option>\n              <option value=\"Healthcare\">Healthcare</option>\n              <option value=\"Finance\">Finance</option>\n              <option value=\"Manufacturing\">Manufacturing</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {/* Templates Grid */}\n      {loading ? (\n        <div className=\"flex items-center justify-center py-12\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {templates.map((template) => (\n            <div\n              key={template.id}\n              className=\"bg-white shadow rounded-lg p-6 hover:shadow-lg transition-shadow duration-200\"\n              data-testid={`template-card-${template.id}`}\n            >\n              <div className=\"flex items-start space-x-4\">\n                <div className=\"flex-shrink-0\">\n                  {getTemplateIcon(template.template_type)}\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <div className=\"flex items-center justify-between\">\n                    <h3 className=\"text-lg font-medium text-gray-900 truncate\">\n                      {template.name}\n                    </h3>\n                    {template.is_default && (\n                      <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n                        Default\n                      </span>\n                    )}\n                  </div>\n                  \n                  <p className=\"mt-1 text-sm text-gray-500\">{template.description}</p>\n                  \n                  <div className=\"mt-3 flex flex-wrap gap-2\">\n                    <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800\">\n                      {getTemplateTypeLabel(template.template_type)}\n                    </span>\n                    {template.industry && (\n                      <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n                        {template.industry}\n                      </span>\n                    )}\n                    {template.project_type && (\n                      <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\">\n                        {template.project_type}\n                      </span>\n                    )}\n                  </div>\n                  \n                  {template.usage_count > 0 && (\n                    <p className=\"mt-2 text-xs text-gray-400\">\n                      Used {template.usage_count} time{template.usage_count !== 1 ? 's' : ''}\n                    </p>\n                  )}\n                  \n                  <div className=\"mt-4 flex space-x-2\">\n                    <button\n                      onClick={() => previewTemplate(template)}\n                      className=\"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                      data-testid={`preview-template-${template.id}`}\n                    >\n                      Preview\n                    </button>\n                    <button\n                      onClick={() => handleUseTemplate(template.id)}\n                      className=\"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                      data-testid={`use-template-${template.id}`}\n                    >\n                      Use Template\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {templates.length === 0 && !loading && (\n        <div className=\"text-center py-12\">\n          <svg\n            className=\"mx-auto h-12 w-12 text-gray-400\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n            />\n          </svg>\n          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No templates found</h3>\n          <p className=\"mt-1 text-sm text-gray-500\">\n            Try adjusting your filters or check back later.\n          </p>\n        </div>\n      )}\n\n      {/* Template Preview Modal */}\n      {showPreview && selectedTemplate && (\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\n          <div className=\"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:p-0\">\n            <div className=\"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75\" onClick={() => setShowPreview(false)}></div>\n            \n            <div className=\"relative inline-block w-full max-w-4xl p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-medium text-gray-900\">\n                  Template Preview: {selectedTemplate.name}\n                </h3>\n                <button\n                  onClick={() => setShowPreview(false)}\n                  className=\"text-gray-400 hover:text-gray-500\"\n                  data-testid=\"close-preview-modal\"\n                >\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n              \n              <div className=\"max-h-96 overflow-y-auto bg-gray-50 p-4 rounded-md\">\n                <pre className=\"whitespace-pre-wrap text-sm text-gray-700\">\n                  {JSON.stringify(selectedTemplate.template_data, null, 2)}\n                </pre>\n              </div>\n              \n              <div className=\"mt-6 flex justify-end space-x-3\">\n                <button\n                  onClick={() => setShowPreview(false)}\n                  className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50\"\n                >\n                  Close\n                </button>\n                <button\n                  onClick={() => {\n                    handleUseTemplate(selectedTemplate.id);\n                    setShowPreview(false);\n                  }}\n                  className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700\"\n                  data-testid=\"use-template-from-preview\"\n                >\n                  Use This Template\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Templates;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}